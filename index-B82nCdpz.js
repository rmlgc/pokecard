(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function i(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=i(r);fetch(r.href,o)}})();class Q{constructor(e,i={}){if(!(e instanceof Node))throw"Can't initialize VanillaTilt because "+e+" is not a Node.";this.width=null,this.height=null,this.clientWidth=null,this.clientHeight=null,this.left=null,this.top=null,this.gammazero=null,this.betazero=null,this.lastgammazero=null,this.lastbetazero=null,this.transitionTimeout=null,this.updateCall=null,this.event=null,this.updateBind=this.update.bind(this),this.resetBind=this.reset.bind(this),this.element=e,this.settings=this.extendSettings(i),this.reverse=this.settings.reverse?-1:1,this.glare=Q.isSettingTrue(this.settings.glare),this.glarePrerender=Q.isSettingTrue(this.settings["glare-prerender"]),this.fullPageListening=Q.isSettingTrue(this.settings["full-page-listening"]),this.gyroscope=Q.isSettingTrue(this.settings.gyroscope),this.gyroscopeSamples=this.settings.gyroscopeSamples,this.elementListener=this.getElementListener(),this.glare&&this.prepareGlare(),this.fullPageListening&&this.updateClientSize(),this.addEventListeners(),this.reset(),this.updateInitialPosition()}static isSettingTrue(e){return e===""||e===!0||e===1}getElementListener(){if(this.fullPageListening)return window.document;if(typeof this.settings["mouse-event-element"]=="string"){const e=document.querySelector(this.settings["mouse-event-element"]);if(e)return e}return this.settings["mouse-event-element"]instanceof Node?this.settings["mouse-event-element"]:this.element}addEventListeners(){this.onMouseEnterBind=this.onMouseEnter.bind(this),this.onMouseMoveBind=this.onMouseMove.bind(this),this.onMouseLeaveBind=this.onMouseLeave.bind(this),this.onWindowResizeBind=this.onWindowResize.bind(this),this.onDeviceOrientationBind=this.onDeviceOrientation.bind(this),this.elementListener.addEventListener("mouseenter",this.onMouseEnterBind),this.elementListener.addEventListener("mouseleave",this.onMouseLeaveBind),this.elementListener.addEventListener("mousemove",this.onMouseMoveBind),(this.glare||this.fullPageListening)&&window.addEventListener("resize",this.onWindowResizeBind),this.gyroscope&&window.addEventListener("deviceorientation",this.onDeviceOrientationBind)}removeEventListeners(){this.elementListener.removeEventListener("mouseenter",this.onMouseEnterBind),this.elementListener.removeEventListener("mouseleave",this.onMouseLeaveBind),this.elementListener.removeEventListener("mousemove",this.onMouseMoveBind),this.gyroscope&&window.removeEventListener("deviceorientation",this.onDeviceOrientationBind),(this.glare||this.fullPageListening)&&window.removeEventListener("resize",this.onWindowResizeBind)}destroy(){clearTimeout(this.transitionTimeout),this.updateCall!==null&&cancelAnimationFrame(this.updateCall),this.reset(),this.removeEventListeners(),this.element.vanillaTilt=null,delete this.element.vanillaTilt,this.element=null}onDeviceOrientation(e){if(e.gamma===null||e.beta===null)return;this.updateElementPosition(),this.gyroscopeSamples>0&&(this.lastgammazero=this.gammazero,this.lastbetazero=this.betazero,this.gammazero===null?(this.gammazero=e.gamma,this.betazero=e.beta):(this.gammazero=(e.gamma+this.lastgammazero)/2,this.betazero=(e.beta+this.lastbetazero)/2),this.gyroscopeSamples-=1);const i=this.settings.gyroscopeMaxAngleX-this.settings.gyroscopeMinAngleX,s=this.settings.gyroscopeMaxAngleY-this.settings.gyroscopeMinAngleY,r=i/this.width,o=s/this.height,n=e.gamma-(this.settings.gyroscopeMinAngleX+this.gammazero),a=e.beta-(this.settings.gyroscopeMinAngleY+this.betazero),h=n/r,l=a/o;this.updateCall!==null&&cancelAnimationFrame(this.updateCall),this.event={clientX:h+this.left,clientY:l+this.top},this.updateCall=requestAnimationFrame(this.updateBind)}onMouseEnter(){this.updateElementPosition(),this.element.style.willChange="transform",this.setTransition()}onMouseMove(e){this.updateCall!==null&&cancelAnimationFrame(this.updateCall),this.event=e,this.updateCall=requestAnimationFrame(this.updateBind)}onMouseLeave(){this.setTransition(),this.settings.reset&&requestAnimationFrame(this.resetBind)}reset(){this.event={clientX:this.left+this.width/2,clientY:this.top+this.height/2},this.element&&this.element.style&&(this.element.style.transform=`perspective(${this.settings.perspective}px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)`),this.resetGlare()}resetGlare(){this.glare&&(this.glareElement.style.transform="rotate(180deg) translate(-50%, -50%)",this.glareElement.style.opacity="0")}updateInitialPosition(){if(this.settings.startX===0&&this.settings.startY===0)return;this.onMouseEnter(),this.fullPageListening?this.event={clientX:(this.settings.startX+this.settings.max)/(2*this.settings.max)*this.clientWidth,clientY:(this.settings.startY+this.settings.max)/(2*this.settings.max)*this.clientHeight}:this.event={clientX:this.left+(this.settings.startX+this.settings.max)/(2*this.settings.max)*this.width,clientY:this.top+(this.settings.startY+this.settings.max)/(2*this.settings.max)*this.height};let e=this.settings.scale;this.settings.scale=1,this.update(),this.settings.scale=e,this.resetGlare()}getValues(){let e,i;this.fullPageListening?(e=this.event.clientX/this.clientWidth,i=this.event.clientY/this.clientHeight):(e=(this.event.clientX-this.left)/this.width,i=(this.event.clientY-this.top)/this.height),e=Math.min(Math.max(e,0),1),i=Math.min(Math.max(i,0),1);let s=(this.reverse*(this.settings.max-e*this.settings.max*2)).toFixed(2),r=(this.reverse*(i*this.settings.max*2-this.settings.max)).toFixed(2),o=Math.atan2(this.event.clientX-(this.left+this.width/2),-(this.event.clientY-(this.top+this.height/2)))*(180/Math.PI);return{tiltX:s,tiltY:r,percentageX:e*100,percentageY:i*100,angle:o}}updateElementPosition(){let e=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=e.left,this.top=e.top}update(){let e=this.getValues();this.element.style.transform="perspective("+this.settings.perspective+"px) rotateX("+(this.settings.axis==="x"?0:e.tiltY)+"deg) rotateY("+(this.settings.axis==="y"?0:e.tiltX)+"deg) scale3d("+this.settings.scale+", "+this.settings.scale+", "+this.settings.scale+")",this.glare&&(this.glareElement.style.transform=`rotate(${e.angle}deg) translate(-50%, -50%)`,this.glareElement.style.opacity=`${e.percentageY*this.settings["max-glare"]/100}`),this.element.dispatchEvent(new CustomEvent("tiltChange",{detail:e})),this.updateCall=null}prepareGlare(){if(!this.glarePrerender){const e=document.createElement("div");e.classList.add("js-tilt-glare");const i=document.createElement("div");i.classList.add("js-tilt-glare-inner"),e.appendChild(i),this.element.appendChild(e)}this.glareElementWrapper=this.element.querySelector(".js-tilt-glare"),this.glareElement=this.element.querySelector(".js-tilt-glare-inner"),!this.glarePrerender&&(Object.assign(this.glareElementWrapper.style,{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden","pointer-events":"none"}),Object.assign(this.glareElement.style,{position:"absolute",top:"50%",left:"50%","pointer-events":"none","background-image":"linear-gradient(0deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%)",transform:"rotate(180deg) translate(-50%, -50%)","transform-origin":"0% 0%",opacity:"0"}),this.updateGlareSize())}updateGlareSize(){if(this.glare){const e=(this.element.offsetWidth>this.element.offsetHeight?this.element.offsetWidth:this.element.offsetHeight)*2;Object.assign(this.glareElement.style,{width:`${e}px`,height:`${e}px`})}}updateClientSize(){this.clientWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,this.clientHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}onWindowResize(){this.updateGlareSize(),this.updateClientSize()}setTransition(){clearTimeout(this.transitionTimeout),this.element.style.transition=this.settings.speed+"ms "+this.settings.easing,this.glare&&(this.glareElement.style.transition=`opacity ${this.settings.speed}ms ${this.settings.easing}`),this.transitionTimeout=setTimeout(()=>{this.element.style.transition="",this.glare&&(this.glareElement.style.transition="")},this.settings.speed)}extendSettings(e){let i={reverse:!1,max:15,startX:0,startY:0,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:1,speed:300,transition:!0,axis:null,glare:!1,"max-glare":1,"glare-prerender":!1,"full-page-listening":!1,"mouse-event-element":null,reset:!0,gyroscope:!0,gyroscopeMinAngleX:-45,gyroscopeMaxAngleX:45,gyroscopeMinAngleY:-45,gyroscopeMaxAngleY:45,gyroscopeSamples:10},s={};for(var r in i)if(r in e)s[r]=e[r];else if(this.element.hasAttribute("data-tilt-"+r)){let o=this.element.getAttribute("data-tilt-"+r);try{s[r]=JSON.parse(o)}catch{s[r]=o}}else s[r]=i[r];return s}static init(e,i){e instanceof Node&&(e=[e]),e instanceof NodeList&&(e=[].slice.call(e)),e instanceof Array&&e.forEach(s=>{"vanillaTilt"in s||(s.vanillaTilt=new Q(s,i))})}}typeof document<"u"&&(window.VanillaTilt=Q,Q.init(document.querySelectorAll("[data-tilt]")));/**
* Muuri v0.9.5
* https://muuri.dev/
* Copyright (c) 2015-present, Haltu Oy
* Released under the MIT license
* https://github.com/haltu/muuri/blob/master/LICENSE.md
* @license MIT
*
* Muuri Packer
* Copyright (c) 2016-present, Niklas Rämö <inramo@gmail.com>
* @license MIT
*
* Muuri Ticker / Muuri Emitter / Muuri Dragger
* Copyright (c) 2018-present, Niklas Rämö <inramo@gmail.com>
* @license MIT
*
* Muuri AutoScroller
* Copyright (c) 2019-present, Niklas Rämö <inramo@gmail.com>
* @license MIT
*/var Ut={},ut=typeof Map=="function"?new Map:null,j="swap",dt="move",Hi="synchronize",nt="layoutStart",Ae="layoutEnd",be="layoutAbort",xe="add",Le="remove",Gi="showStart",Bi="showEnd",wt="hideStart",qi="hideEnd",Re="filter",Ie="sort",Ht="move",Gt="send",ot="beforeSend",Bt="receive",qt="beforeReceive",Wi="dragInit",Vi="dragStart",zi="dragMove",Fi="dragScroll",ji="dragEnd",Ui="dragReleaseStart",Tt="dragReleaseEnd",$i="destroy",Ue="ontouchstart"in window,fe=!!window.PointerEvent,ce=!!window.navigator.msPointerEnabled,Zi=16777216;function z(){this._events={},this._queue=[],this._counter=0,this._clearOnEmit=!1}z.prototype.on=function(t,e){if(!this._events||!t||!e)return this;var i=this._events[t];return i||(i=this._events[t]=[]),i.push(e),this};z.prototype.off=function(t,e){if(!this._events||!t||!e)return this;var i=this._events[t];if(!i||!i.length)return this;for(var s;(s=i.indexOf(e))!==-1;)i.splice(s,1);return this};z.prototype.clear=function(t){if(!this._events||!t)return this;var e=this._events[t];return e&&(e.length=0,delete this._events[t]),this};z.prototype.emit=function(t){if(!this._events||!t)return this._clearOnEmit=!1,this;var e=this._events[t];if(!e||!e.length)return this._clearOnEmit=!1,this;var i=this._queue,s=i.length,r=arguments.length-1,o;r>3&&(o=[],o.push.apply(o,arguments),o.shift()),i.push.apply(i,e),this._clearOnEmit&&(e.length=0,this._clearOnEmit=!1),++this._counter;for(var n=s,a=i.length;n<a;n++)if(r===0?i[n]():r===1?i[n](arguments[1]):r===2?i[n](arguments[1],arguments[2]):r===3?i[n](arguments[1],arguments[2],arguments[3]):i[n].apply(null,o),!this._events)return this;return--this._counter,this._counter||(i.length=0),this};z.prototype.burst=function(){return this._events?(this._clearOnEmit=!0,this.emit.apply(this,arguments),this):this};z.prototype.countListeners=function(t){if(!this._events)return 0;var e=this._events[t];return e?e.length:0};z.prototype.destroy=function(){return this._events?(this._queue.length=this._counter=0,this._events=null,this):this};var $t=fe?"pointerout":ce?"MSPointerOut":"",Qi=100;function ht(t){$t&&(this._dragger=t,this._timeout=null,this._outEvent=null,this._isActive=!1,this._addBehaviour=this._addBehaviour.bind(this),this._removeBehaviour=this._removeBehaviour.bind(this),this._onTimeout=this._onTimeout.bind(this),this._resetData=this._resetData.bind(this),this._onStart=this._onStart.bind(this),this._onOut=this._onOut.bind(this),this._dragger.on("start",this._onStart))}ht.prototype._addBehaviour=function(){this._isActive||(this._isActive=!0,this._dragger.on("move",this._resetData),this._dragger.on("cancel",this._removeBehaviour),this._dragger.on("end",this._removeBehaviour),window.addEventListener($t,this._onOut))};ht.prototype._removeBehaviour=function(){this._isActive&&(this._dragger.off("move",this._resetData),this._dragger.off("cancel",this._removeBehaviour),this._dragger.off("end",this._removeBehaviour),window.removeEventListener($t,this._onOut),this._resetData(),this._isActive=!1)};ht.prototype._resetData=function(){window.clearTimeout(this._timeout),this._timeout=null,this._outEvent=null};ht.prototype._onStart=function(t){t.pointerType!=="mouse"&&this._addBehaviour()};ht.prototype._onOut=function(t){this._dragger._getTrackedTouch(t)&&(this._resetData(),this._outEvent=t,this._timeout=window.setTimeout(this._onTimeout,Qi))};ht.prototype._onTimeout=function(){var t=this._outEvent;this._resetData(),this._dragger.isActive()&&this._dragger._onCancel(t)};ht.prototype.destroy=function(){$t&&(this._dragger.off("start",this._onStart),this._removeBehaviour())};var se=["","webkit","moz","ms","o","Webkit","Moz","MS","O"],Ce={};function Zt(t,e){var i=Ce[e]||"";if(i)return i;for(var s=e[0].toUpperCase()+e.slice(1),r=0;r<se.length;){if(i=se[r]?se[r]+s:e,i in t)return Ce[e]=i,i;++r}return""}function $e(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch{}return t}var Qt=window.navigator.userAgent.toLowerCase(),Ki=Qt.indexOf("edge")>-1,Ji=Qt.indexOf("trident")>-1,ts=Qt.indexOf("firefox")>-1,es=Qt.indexOf("android")>-1,st=$e()?{passive:!0}:!1,Ze="touchAction",Mt=Zt(document.documentElement.style,Ze),is="auto";function f(t,e){this._element=t,this._emitter=new z,this._isDestroyed=!1,this._cssProps={},this._touchAction="",this._isActive=!1,this._pointerId=null,this._startTime=0,this._startX=0,this._startY=0,this._currentX=0,this._currentY=0,this._onStart=this._onStart.bind(this),this._onMove=this._onMove.bind(this),this._onCancel=this._onCancel.bind(this),this._onEnd=this._onEnd.bind(this),this._edgeHack=null,(Ki||Ji)&&(fe||ce)&&(this._edgeHack=new ht(this)),this.setCssProps(e),this._touchAction||this.setTouchAction(is),t.addEventListener("dragstart",f._preventDefault,!1),t.addEventListener(f._inputEvents.start,this._onStart,st)}f._pointerEvents={start:"pointerdown",move:"pointermove",cancel:"pointercancel",end:"pointerup"};f._msPointerEvents={start:"MSPointerDown",move:"MSPointerMove",cancel:"MSPointerCancel",end:"MSPointerUp"};f._touchEvents={start:"touchstart",move:"touchmove",cancel:"touchcancel",end:"touchend"};f._mouseEvents={start:"mousedown",move:"mousemove",cancel:"",end:"mouseup"};f._inputEvents=function(){return Ue?f._touchEvents:fe?f._pointerEvents:ce?f._msPointerEvents:f._mouseEvents}();f._emitter=new z;f._emitterEvents={start:"start",move:"move",end:"end",cancel:"cancel"};f._activeInstances=[];f._preventDefault=function(t){t.preventDefault&&t.cancelable!==!1&&t.preventDefault()};f._activateInstance=function(t){var e=f._activeInstances.indexOf(t);e>-1||(f._activeInstances.push(t),f._emitter.on(f._emitterEvents.move,t._onMove),f._emitter.on(f._emitterEvents.cancel,t._onCancel),f._emitter.on(f._emitterEvents.end,t._onEnd),f._activeInstances.length===1&&f._bindListeners())};f._deactivateInstance=function(t){var e=f._activeInstances.indexOf(t);e!==-1&&(f._activeInstances.splice(e,1),f._emitter.off(f._emitterEvents.move,t._onMove),f._emitter.off(f._emitterEvents.cancel,t._onCancel),f._emitter.off(f._emitterEvents.end,t._onEnd),f._activeInstances.length||f._unbindListeners())};f._bindListeners=function(){window.addEventListener(f._inputEvents.move,f._onMove,st),window.addEventListener(f._inputEvents.end,f._onEnd,st),f._inputEvents.cancel&&window.addEventListener(f._inputEvents.cancel,f._onCancel,st)};f._unbindListeners=function(){window.removeEventListener(f._inputEvents.move,f._onMove,st),window.removeEventListener(f._inputEvents.end,f._onEnd,st),f._inputEvents.cancel&&window.removeEventListener(f._inputEvents.cancel,f._onCancel,st)};f._getEventPointerId=function(t){return typeof t.pointerId=="number"?t.pointerId:t.changedTouches?t.changedTouches[0]?t.changedTouches[0].identifier:null:1};f._getTouchById=function(t,e){if(typeof t.pointerId=="number")return t.pointerId===e?t:null;if(t.changedTouches){for(var i=0;i<t.changedTouches.length;i++)if(t.changedTouches[i].identifier===e)return t.changedTouches[i];return null}return t};f._onMove=function(t){f._emitter.emit(f._emitterEvents.move,t)};f._onCancel=function(t){f._emitter.emit(f._emitterEvents.cancel,t)};f._onEnd=function(t){f._emitter.emit(f._emitterEvents.end,t)};f.prototype._reset=function(){this._pointerId=null,this._startTime=0,this._startX=0,this._startY=0,this._currentX=0,this._currentY=0,this._isActive=!1,f._deactivateInstance(this)};f.prototype._createEvent=function(t,e){var i=this._getTrackedTouch(e);return{type:t,srcEvent:e,distance:this.getDistance(),deltaX:this.getDeltaX(),deltaY:this.getDeltaY(),deltaTime:t===f._emitterEvents.start?0:this.getDeltaTime(),isFirst:t===f._emitterEvents.start,isFinal:t===f._emitterEvents.end||t===f._emitterEvents.cancel,pointerType:e.pointerType||(e.touches?"touch":"mouse"),identifier:this._pointerId,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY,target:i.target}};f.prototype._emit=function(t,e){this._emitter.emit(t,this._createEvent(t,e))};f.prototype._getTrackedTouch=function(t){return this._pointerId===null?null:f._getTouchById(t,this._pointerId)};f.prototype._onStart=function(t){if(!this._isDestroyed&&this._pointerId===null&&(this._pointerId=f._getEventPointerId(t),this._pointerId!==null)){var e=this._getTrackedTouch(t);this._startX=this._currentX=e.clientX,this._startY=this._currentY=e.clientY,this._startTime=Date.now(),this._isActive=!0,this._emit(f._emitterEvents.start,t),this._isActive&&f._activateInstance(this)}};f.prototype._onMove=function(t){var e=this._getTrackedTouch(t);e&&(this._currentX=e.clientX,this._currentY=e.clientY,this._emit(f._emitterEvents.move,t))};f.prototype._onCancel=function(t){this._getTrackedTouch(t)&&(this._emit(f._emitterEvents.cancel,t),this._reset())};f.prototype._onEnd=function(t){this._getTrackedTouch(t)&&(this._emit(f._emitterEvents.end,t),this._reset())};f.prototype.isActive=function(){return this._isActive};f.prototype.setTouchAction=function(t){this._touchAction=t,Mt&&(this._cssProps[Mt]="",this._element.style[Mt]=t),Ue&&(this._element.removeEventListener(f._touchEvents.start,f._preventDefault,!0),(this._element.style[Mt]!==t||ts&&es)&&this._element.addEventListener(f._touchEvents.start,f._preventDefault,!0))};f.prototype.setCssProps=function(t){if(t){var e=this._cssProps,i=this._element,s,r;for(s in e)i.style[s]=e[s],delete e[s];for(s in t)if(t[s]){if(s===Ze){this.setTouchAction(t[s]);continue}r=Zt(i.style,s),r&&(e[r]="",i.style[r]=t[s])}}};f.prototype.getDeltaX=function(){return this._currentX-this._startX};f.prototype.getDeltaY=function(){return this._currentY-this._startY};f.prototype.getDistance=function(){var t=this.getDeltaX(),e=this.getDeltaY();return Math.sqrt(t*t+e*e)};f.prototype.getDeltaTime=function(){return this._startTime?Date.now()-this._startTime:0};f.prototype.on=function(t,e){this._emitter.on(t,e)};f.prototype.off=function(t,e){this._emitter.off(t,e)};f.prototype.destroy=function(){if(!this._isDestroyed){var t=this._element;this._edgeHack&&this._edgeHack.destroy(),this._reset(),this._emitter.destroy(),t.removeEventListener(f._inputEvents.start,this._onStart,st),t.removeEventListener("dragstart",f._preventDefault,!1),t.removeEventListener(f._touchEvents.start,f._preventDefault,!0);for(var e in this._cssProps)t.style[e]=this._cssProps[e],delete this._cssProps[e];this._element=null,this._isDestroyed=!0}};var ss=1e3/60,rs=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return this.setTimeout(function(){t(Date.now())},ss)}).bind(window);function Kt(t){this._nextStep=null,this._lanes=[],this._stepQueue=[],this._stepCallbacks={},this._step=this._step.bind(this);for(var e=0;e<t;e++)this._lanes.push(new ve)}Kt.prototype._step=function(t){var e=this._lanes,i=this._stepQueue,s=this._stepCallbacks,r,o,n,a,h,l;for(this._nextStep=null,r=0;r<e.length;r++){for(a=e[r].queue,h=e[r].callbacks,l=e[r].indices,o=0;o<a.length;o++)n=a[o],n&&(i.push(n),s[n]=h[n],delete h[n],delete l[n]);a.length=0}for(r=0;r<i.length;r++)n=i[r],s[n]&&s[n](t),delete s[n];i.length=0};Kt.prototype.add=function(t,e,i){this._lanes[t].add(e,i),this._nextStep||(this._nextStep=rs(this._step))};Kt.prototype.remove=function(t,e){this._lanes[t].remove(e)};function ve(){this.queue=[],this.indices={},this.callbacks={}}ve.prototype.add=function(t,e){var i=this.indices[t];i!==void 0&&(this.queue[i]=void 0),this.queue.push(t),this.callbacks[t]=e,this.indices[t]=this.queue.length-1};ve.prototype.remove=function(t){var e=this.indices[t];e!==void 0&&(this.queue[e]=void 0,delete this.callbacks[t],delete this.indices[t])};var Qe="layoutRead",Ke="layoutWrite",Je="visibilityRead",ti="visibilityWrite",ei="dragStartRead",ii="dragStartWrite",si="dragMoveRead",ri="dragMoveWrite",ni="dragScrollRead",oi="dragScrollWrite",ai="dragSortRead",hi="placeholderLayoutRead",li="placeholderLayoutWrite",_i="placeholderResizeWrite",ui="autoScrollRead",di="autoScrollWrite",fi="debounceRead",N=0,ci=1,H=2,b=new Kt(3);function ns(t,e,i){b.add(N,Qe+t,e),b.add(H,Ke+t,i)}function vi(t){b.remove(N,Qe+t),b.remove(H,Ke+t)}function os(t,e,i){b.add(N,Je+t,e),b.add(H,ti+t,i)}function pi(t){b.remove(N,Je+t),b.remove(H,ti+t)}function as(t,e,i){b.add(N,ei+t,e),b.add(H,ii+t,i)}function gi(t){b.remove(N,ei+t),b.remove(H,ii+t)}function hs(t,e,i){b.add(N,si+t,e),b.add(H,ri+t,i)}function mi(t){b.remove(N,si+t),b.remove(H,ri+t)}function ls(t,e,i){b.add(N,ni+t,e),b.add(H,oi+t,i)}function yi(t){b.remove(N,ni+t),b.remove(H,oi+t)}function Jt(t,e){b.add(ci,ai+t,e)}function _s(t){b.remove(ci,ai+t)}function us(t,e,i){b.add(N,hi+t,e),b.add(H,li+t,i)}function Si(t){b.remove(N,hi+t),b.remove(H,li+t)}function ds(t,e){b.add(H,_i+t,e)}function fs(t){b.remove(H,_i+t)}function Ei(t,e){b.add(N,ui,t),b.add(H,di,e)}function cs(){b.remove(N,ui),b.remove(H,di)}function vs(t,e){b.add(N,fi+t,e)}function ps(t){b.remove(N,fi+t)}var C=1,Y=2,St=4,pe=8,At=C|pe,bt=C|St,xt=Y|pe,Wt=Y|St,gs="function";function A(t){return typeof t===gs}var Yt=typeof WeakMap=="function"?new WeakMap:null;function B(t,e){var i=Yt&&Yt.get(t);return i||(i=window.getComputedStyle(t,null),Yt&&Yt.set(t,i)),i.getPropertyValue(e)}function V(t,e){return parseFloat(B(t,e))||0}var ft=document.documentElement,ms=document.body,Ot={value:0,offset:0};function Di(t){return t===window||t===ft||t===ms?window:t}function Lt(t){return t===window?t.pageXOffset:t.scrollLeft}function Rt(t){return t===window?t.pageYOffset:t.scrollTop}function wi(t){return t===window?ft.scrollWidth-ft.clientWidth:t.scrollWidth-t.clientWidth}function Ti(t){return t===window?ft.scrollHeight-ft.clientHeight:t.scrollHeight-t.clientHeight}function Ai(t,e){if(e=e||{},t===window)e.width=ft.clientWidth,e.height=ft.clientHeight,e.left=0,e.right=e.width,e.top=0,e.bottom=e.height;else{var i=t.getBoundingClientRect(),s=t.clientLeft||V(t,"border-left-width"),r=t.clientTop||V(t,"border-top-width");e.width=t.clientWidth,e.height=t.clientHeight,e.left=i.left+s,e.right=e.left+e.width,e.top=i.top+r,e.bottom=e.top+e.height}return e}function Ct(t){return t._drag._getGrid()._settings.dragAutoScroll}function ys(t){t._drag&&t._drag._prepareScroll()}function Ss(t){if(!(!t._drag||!t._isActive)){var e=t._drag;e._scrollDiffX=e._scrollDiffY=0,t._setTranslate(e._left,e._top)}}function he(t,e,i,s){return Ot.value=Math.min(s/2,t),Ot.offset=Math.max(0,i+Ot.value*2+s*e-s)/2,Ot}function J(){this.reset()}J.prototype.reset=function(){this.isActive&&this.onStop(),this.item=null,this.element=null,this.isActive=!1,this.isEnding=!1,this.direction=null,this.value=null,this.maxValue=0,this.threshold=0,this.distance=0,this.speed=0,this.duration=0,this.action=null};J.prototype.hasReachedEnd=function(){return St&this.direction?this.value>=this.maxValue:this.value<=0};J.prototype.computeCurrentScrollValue=function(){return this.value===null?C&this.direction?Lt(this.element):Rt(this.element):Math.max(0,Math.min(this.value,this.maxValue))};J.prototype.computeNextScrollValue=function(t){var e=this.speed*(t/1e3),i=St&this.direction?this.value+e:this.value-e;return Math.max(0,Math.min(i,this.maxValue))};J.prototype.computeSpeed=function(){var t={direction:null,threshold:0,distance:0,value:0,maxValue:0,deltaTime:0,duration:0,isEnding:!1};return function(e){var i=this.item,s=Ct(i).speed;return A(s)?(t.direction=this.direction,t.threshold=this.threshold,t.distance=this.distance,t.value=this.value,t.maxValue=this.maxValue,t.duration=this.duration,t.speed=this.speed,t.deltaTime=e,t.isEnding=this.isEnding,s(i,this.element,t)):s}}();J.prototype.tick=function(t){return this.isActive||(this.isActive=!0,this.onStart()),this.value=this.computeCurrentScrollValue(),this.speed=this.computeSpeed(t),this.value=this.computeNextScrollValue(t),this.duration+=t,this.value};J.prototype.onStart=function(){var t=this.item,e=Ct(t).onStart;A(e)&&e(t,this.element,this.direction)};J.prototype.onStop=function(){var t=this.item,e=Ct(t).onStop;A(e)&&e(t,this.element,this.direction),t._drag&&t._drag.sort()};function Et(){this.element=null,this.requestX=null,this.requestY=null,this.scrollLeft=0,this.scrollTop=0}Et.prototype.reset=function(){this.requestX&&(this.requestX.action=null),this.requestY&&(this.requestY.action=null),this.element=null,this.requestX=null,this.requestY=null,this.scrollLeft=0,this.scrollTop=0};Et.prototype.addRequest=function(t){C&t.direction?(this.removeRequest(this.requestX),this.requestX=t):(this.removeRequest(this.requestY),this.requestY=t),t.action=this};Et.prototype.removeRequest=function(t){t&&(this.requestX===t?(this.requestX=null,t.action=null):this.requestY===t&&(this.requestY=null,t.action=null))};Et.prototype.computeScrollValues=function(){this.scrollLeft=this.requestX?this.requestX.value:Lt(this.element),this.scrollTop=this.requestY?this.requestY.value:Rt(this.element)};Et.prototype.scroll=function(){var t=this.element;t&&(t.scrollTo?t.scrollTo(this.scrollLeft,this.scrollTop):(t.scrollLeft=this.scrollLeft,t.scrollTop=this.scrollTop))};function It(t,e){this.pool=[],this.createItem=t,this.releaseItem=e}It.prototype.pick=function(){return this.pool.pop()||this.createItem()};It.prototype.release=function(t){this.releaseItem(t),this.pool.indexOf(t)===-1&&this.pool.push(t)};It.prototype.reset=function(){this.pool.length=0};function Es(t,e){return!(t.left+t.width<=e.left||e.left+e.width<=t.left||t.top+t.height<=e.top||e.top+e.height<=t.top)}function Ds(t,e){if(!Es(t,e))return 0;var i=Math.min(t.left+t.width,e.left+e.width)-Math.max(t.left,e.left),s=Math.min(t.top+t.height,e.top+e.height)-Math.max(t.top,e.top);return i*s}function Vt(t,e){var i=Ds(t,e);if(!i)return 0;var s=Math.min(t.width,e.width)*Math.min(t.height,e.height);return i/s*100}var bi={width:0,height:0,left:0,right:0,top:0,bottom:0},xi={width:0,height:0,left:0,right:0,top:0,bottom:0};function x(){this._isDestroyed=!1,this._isTicking=!1,this._tickTime=0,this._tickDeltaTime=0,this._items=[],this._actions=[],this._requests={},this._requests[C]={},this._requests[Y]={},this._requestOverlapCheck={},this._dragPositions={},this._dragDirections={},this._overlapCheckInterval=150,this._requestPool=new It(function(){return new J},function(t){t.reset()}),this._actionPool=new It(function(){return new Et},function(t){t.reset()}),this._readTick=this._readTick.bind(this),this._writeTick=this._writeTick.bind(this)}x.AXIS_X=C;x.AXIS_Y=Y;x.FORWARD=St;x.BACKWARD=pe;x.LEFT=At;x.RIGHT=bt;x.UP=xt;x.DOWN=Wt;x.smoothSpeed=function(t,e,i){return function(s,r,o){var n=0;if(!o.isEnding)if(o.threshold>0){var a=o.threshold-Math.max(0,o.distance);n=t/o.threshold*a}else n=t;var h=o.speed,l=n;return h===n?l:h<n?(l=h+e*(o.deltaTime/1e3),Math.min(n,l)):(l=h-i*(o.deltaTime/1e3),Math.max(n,l))}};x.pointerHandle=function(t){var e={left:0,top:0,width:0,height:0},i=t||1;return function(s,r,o,n,a,h,l){return e.left=h-i*.5,e.top=l-i*.5,e.width=i,e.height=i,e}};x.prototype._readTick=function(t){this._isDestroyed||(t&&this._tickTime?(this._tickDeltaTime=t-this._tickTime,this._tickTime=t,this._updateRequests(),this._updateActions()):(this._tickTime=t,this._tickDeltaTime=0))};x.prototype._writeTick=function(){this._isDestroyed||(this._applyActions(),Ei(this._readTick,this._writeTick))};x.prototype._startTicking=function(){this._isTicking=!0,Ei(this._readTick,this._writeTick)};x.prototype._stopTicking=function(){this._isTicking=!1,this._tickTime=0,this._tickDeltaTime=0,cs()};x.prototype._getItemHandleRect=function(t,e,i){var s=t._drag;if(e){var r=s._dragMoveEvent||s._dragStartEvent,o=e(t,s._clientX,s._clientY,t._width,t._height,r.clientX,r.clientY);i.left=o.left,i.top=o.top,i.width=o.width,i.height=o.height}else i.left=s._clientX,i.top=s._clientY,i.width=t._width,i.height=t._height;return i.right=i.left+i.width,i.bottom=i.top+i.height,i};x.prototype._requestItemScroll=function(t,e,i,s,r,o,n){var a=this._requests[e],h=a[t._id];h?(h.element!==i||h.direction!==s)&&h.reset():h=this._requestPool.pick(),h.item=t,h.element=i,h.direction=s,h.threshold=r,h.distance=o,h.maxValue=n,a[t._id]=h};x.prototype._cancelItemScroll=function(t,e){var i=this._requests[e],s=i[t._id];s&&(s.action&&s.action.removeRequest(s),this._requestPool.release(s),delete i[t._id])};x.prototype._checkItemOverlap=function(t,e,i){var s=Ct(t),r=A(s.targets)?s.targets(t):s.targets,o=s.threshold,n=s.safeZone;if(!r||!r.length){e&&this._cancelItemScroll(t,C),i&&this._cancelItemScroll(t,Y);return}var a=this._dragDirections[t._id],h=a[0],l=a[1];if(!h&&!l){e&&this._cancelItemScroll(t,C),i&&this._cancelItemScroll(t,Y);return}for(var d=this._getItemHandleRect(t,s.handle,bi),v=xi,S=null,y=null,E=!0,_=!0,u=0,g=0,c=null,m=null,p=0,T=0,L=0,k=null,M=-1/0,R=0,Z=0,P=null,q=0,it=0,O=null,kt=-1/0,Se=0,Ee=0,De=null,we=0,Te=0,ie=0;ie<r.length;ie++)S=r[ie],E=e&&h&&S.axis!==Y,_=i&&l&&S.axis!==C,g=S.priority||0,!((!E||g<M)&&(!_||g<kt))&&(y=Di(S.element||S),T=E?wi(y):-1,L=_?Ti(y):-1,!(!T&&!L)&&(v=Ai(y,v),u=Vt(d,v),!(u<=0)&&(E&&g>=M&&T>0&&(g>M||u>Z)&&(m=null,c=he(typeof S.threshold=="number"?S.threshold:o,n,d.width,v.width),h===bt?(p=v.right+c.offset-d.right,p<=c.value&&Lt(y)<T&&(m=bt)):h===At&&(p=d.left-(v.left-c.offset),p<=c.value&&Lt(y)>0&&(m=At)),m!==null&&(k=y,M=g,R=c.value,Z=u,P=m,q=p,it=T)),_&&g>=kt&&L>0&&(g>kt||u>Ee)&&(m=null,c=he(typeof S.threshold=="number"?S.threshold:o,n,d.height,v.height),l===Wt?(p=v.bottom+c.offset-d.bottom,p<=c.value&&Rt(y)<L&&(m=Wt)):l===xt&&(p=d.top-(v.top-c.offset),p<=c.value&&Rt(y)>0&&(m=xt)),m!==null&&(O=y,kt=g,Se=c.value,Ee=u,De=m,we=p,Te=L)))));e&&(k?this._requestItemScroll(t,C,k,P,R,q,it):this._cancelItemScroll(t,C)),i&&(O?this._requestItemScroll(t,Y,O,De,Se,we,Te):this._cancelItemScroll(t,Y))};x.prototype._updateScrollRequest=function(t){for(var e=t.item,i=Ct(e),s=A(i.targets)?i.targets(e):i.targets,r=s&&s.length||0,o=i.threshold,n=i.safeZone,a=this._getItemHandleRect(e,i.handle,bi),h=xi,l=null,d=null,v=!1,S=null,y=null,E=null,_=null,u=null,g=null,c=0;c<r;c++)if(l=s[c],d=Di(l.element||l),d===t.element){if(v=!!(C&t.direction),v){if(l.axis===Y)continue}else if(l.axis===C)continue;if(u=v?wi(d):Ti(d),u<=0||(h=Ai(d,h),S=Vt(a,h),S<=0)||(y=he(typeof l.threshold=="number"?l.threshold:o,n,v?a.width:a.height,v?h.width:h.height),t.direction===At?E=a.left-(h.left-y.offset):t.direction===bt?E=h.right+y.offset-a.right:t.direction===xt?E=a.top-(h.top-y.offset):E=h.bottom+y.offset-a.bottom,E>y.value)||(_=v?Lt(d):Rt(d),g=St&t.direction?_>=u:_<=0,g))break;return t.maxValue=u,t.threshold=y.value,t.distance=E,t.isEnding=!1,!0}return i.smoothStop===!0&&t.speed>0?(g===null&&(g=t.hasReachedEnd()),t.isEnding=!g):t.isEnding=!1,t.isEnding};x.prototype._updateRequests=function(){for(var t=this._items,e=this._requests[C],i=this._requests[Y],s,r,o,n,a,h,l,d=0;d<t.length;d++)s=t[d],n=this._requestOverlapCheck[s._id],a=n>0&&this._tickTime-n>this._overlapCheckInterval,h=!0,r=e[s._id],r&&r.isActive&&(h=!this._updateScrollRequest(r),h&&(a=!0,this._cancelItemScroll(s,C))),l=!0,o=i[s._id],o&&o.isActive&&(l=!this._updateScrollRequest(o),l&&(a=!0,this._cancelItemScroll(s,Y))),a&&(this._requestOverlapCheck[s._id]=0,this._checkItemOverlap(s,h,l))};x.prototype._requestAction=function(t,e){for(var i=this._actions,s=e===C,r=null,o=0;o<i.length;o++){if(r=i[o],t.element!==r.element){r=null;continue}if(s?r.requestX:r.requestY){this._cancelItemScroll(t.item,e);return}break}r||(r=this._actionPool.pick()),r.element=t.element,r.addRequest(t),t.tick(this._tickDeltaTime),i.push(r)};x.prototype._updateActions=function(){var t=this._items,e=this._requests,i=this._actions,s,r,o,n;for(n=0;n<t.length;n++)s=t[n]._id,r=e[C][s],o=e[Y][s],r&&this._requestAction(r,C),o&&this._requestAction(o,Y);for(n=0;n<i.length;n++)i[n].computeScrollValues()};x.prototype._applyActions=function(){var t=this._actions,e=this._items,i;if(t.length){for(i=0;i<t.length;i++)t[i].scroll(),this._actionPool.release(t[i]);for(t.length=0,i=0;i<e.length;i++)ys(e[i]);for(i=0;i<e.length;i++)Ss(e[i])}};x.prototype._updateDragDirection=function(t){var e=this._dragPositions[t._id],i=this._dragDirections[t._id],s=t._drag._left,r=t._drag._top;if(e.length){var o=e[0],n=e[1];i[0]=s>o?bt:s<o?At:i[0]||0,i[1]=r>n?Wt:r<n?xt:i[1]||0}e[0]=s,e[1]=r};x.prototype.addItem=function(t){if(!this._isDestroyed){var e=this._items.indexOf(t);e===-1&&(this._items.push(t),this._requestOverlapCheck[t._id]=this._tickTime,this._dragDirections[t._id]=[0,0],this._dragPositions[t._id]=[],this._isTicking||this._startTicking())}};x.prototype.updateItem=function(t){this._isDestroyed||this._dragDirections[t._id]&&(this._updateDragDirection(t),this._requestOverlapCheck[t._id]||(this._requestOverlapCheck[t._id]=this._tickTime))};x.prototype.removeItem=function(t){if(!this._isDestroyed){var e=this._items.indexOf(t);if(e!==-1){var i=t._id,s=this._requests[C][i];s&&(this._cancelItemScroll(t,C),delete this._requests[C][i]);var r=this._requests[Y][i];r&&(this._cancelItemScroll(t,Y),delete this._requests[Y][i]),delete this._requestOverlapCheck[i],delete this._dragPositions[i],delete this._dragDirections[i],this._items.splice(e,1),this._isTicking&&!this._items.length&&this._stopTicking()}}};x.prototype.isItemScrollingX=function(t){var e=this._requests[C][t._id];return!!(e&&e.isActive)};x.prototype.isItemScrollingY=function(t){var e=this._requests[Y][t._id];return!!(e&&e.isActive)};x.prototype.isItemScrolling=function(t){return this.isItemScrollingX(t)||this.isItemScrollingY(t)};x.prototype.destroy=function(){if(!this._isDestroyed){for(var t=this._items.slice(0),e=0;e<t.length;e++)this.removeItem(t[e]);this._actions.length=0,this._requestPool.reset(),this._actionPool.reset(),this._isDestroyed=!0}};var ct=window.Element.prototype,ws=ct.matches||ct.matchesSelector||ct.webkitMatchesSelector||ct.mozMatchesSelector||ct.msMatchesSelector||ct.oMatchesSelector||function(){return!1};function te(t,e){return ws.call(t,e)}function W(t,e){e&&(t.classList?t.classList.add(e):te(t,"."+e)||(t.className+=" "+e))}var Pe=[],Ts="number";function ge(t,e,i){var s=typeof i===Ts?i:-1;s<0&&(s=t.length-s+1),t.splice.apply(t,Pe.concat(s,0,e)),Pe.length=0}function gt(t,e,i){var s=Math.max(0,t.length-1+(i||0));return e>s?s:e<0?Math.max(s+e+1,0):e}function Li(t,e,i){if(!(t.length<2)){var s=gt(t,e),r=gt(t,i);s!==r&&t.splice(r,0,t.splice(s,1)[0])}}function Ri(t,e,i){if(!(t.length<2)){var s=gt(t,e),r=gt(t,i),o;s!==r&&(o=t[s],t[s]=t[r],t[r]=o)}}var U=Zt(document.documentElement.style,"transform")||"transform",As=/([A-Z])/g,bs=/^(webkit-|moz-|ms-|o-)/,xs=/^(-m-s-)/;function le(t){var e=t.replace(As,"-$1").toLowerCase();return e=e.replace(bs,"-$1"),e=e.replace(xs,"-ms-"),e}var Ii=le(U),Ls="none",Rs="inline",Is="none",Cs="display";function Ps(t){var e=B(t,Ii);if(!e||e===Ls)return!1;var i=B(t,Cs);return!(i===Rs||i===Is)}function _e(t){for(var e=document,i=t||e;i&&i!==e&&B(i,"position")==="static"&&!Ps(i);)i=i.parentElement||e;return i}var re={},ne={},_t={};function ke(t,e){var i=e||{},s;return i.left=0,i.top=0,t===document||(i.left=window.pageXOffset||0,i.top=window.pageYOffset||0,t.self===window.self)||(s=t.getBoundingClientRect(),i.left+=s.left,i.top+=s.top,i.left+=V(t,"border-left-width"),i.top+=V(t,"border-top-width")),i}function mt(t,e,i){return _t.left=0,_t.top=0,t===e||i&&(t=_e(t),e=_e(e),t===e)||(ke(t,re),ke(e,ne),_t.left=ne.left-re.left,_t.top=ne.top-re.top),_t}function oe(t){return t==="auto"||t==="scroll"||t==="overlay"}function ks(t){return oe(B(t,"overflow"))||oe(B(t,"overflow-x"))||oe(B(t,"overflow-y"))}function Me(t,e){for(e=e||[];t&&t!==document;){if(t.getRootNode&&t instanceof DocumentFragment){t=t.getRootNode().host;continue}ks(t)&&e.push(t),t=t.parentNode}return e.push(window),e}var vt={},Ms="none",Ys=/^matrix3d/,Os=/([^,]*,){4}/,Xs=/([^,]*,){12}/,Ns=/[^,]*,/;function K(t){vt.x=0,vt.y=0;var e=B(t,Ii);if(!e||e===Ms)return vt;var i=Ys.test(e),s=e.replace(i?Xs:Os,""),r=s.replace(Ns,"");return vt.x=parseFloat(s)||0,vt.y=parseFloat(r)||0,vt}function X(t,e){e&&(t.classList?t.classList.remove(e):te(t,"."+e)&&(t.className=(" "+t.className+" ").replace(" "+e+" "," ").trim()))}var Hs=/^(iPad|iPhone|iPod)/.test(window.navigator.platform)||/^Mac/.test(window.navigator.platform)&&window.navigator.maxTouchPoints>1,zt=0,ue=1,Ft=2,Ci=$e()?{passive:!0}:!1;function D(t){var e=t._element,i=t.getGrid(),s=i._settings;this._item=t,this._gridId=i._id,this._isDestroyed=!1,this._isMigrating=!1,this._startPredicate=A(s.dragStartPredicate)?s.dragStartPredicate:D.defaultStartPredicate,this._startPredicateState=zt,this._startPredicateResult=void 0,this._isSortNeeded=!1,this._sortTimer=void 0,this._blockedSortIndex=null,this._sortX1=0,this._sortX2=0,this._sortY1=0,this._sortY2=0,this._reset(),this._preStartCheck=this._preStartCheck.bind(this),this._preEndCheck=this._preEndCheck.bind(this),this._onScroll=this._onScroll.bind(this),this._prepareStart=this._prepareStart.bind(this),this._applyStart=this._applyStart.bind(this),this._prepareMove=this._prepareMove.bind(this),this._applyMove=this._applyMove.bind(this),this._prepareScroll=this._prepareScroll.bind(this),this._applyScroll=this._applyScroll.bind(this),this._handleSort=this._handleSort.bind(this),this._handleSortDelayed=this._handleSortDelayed.bind(this),this._handle=s.dragHandle&&e.querySelector(s.dragHandle)||e,this._dragger=new f(this._handle,s.dragCssProps),this._dragger.on("start",this._preStartCheck),this._dragger.on("move",this._preStartCheck),this._dragger.on("cancel",this._preEndCheck),this._dragger.on("end",this._preEndCheck)}D.autoScroller=new x;D.defaultStartPredicate=function(t,e,i){var s=t._drag;if(e.isFirst&&e.srcEvent.button||!Hs&&e.isFirst&&e.srcEvent.isTrusted===!0&&e.srcEvent.defaultPrevented===!1&&e.srcEvent.cancelable===!1)return!1;if(e.isFinal){s._finishStartPredicate(e);return}var r=s._startPredicateData;if(!r){var o=i||s._getGrid()._settings.dragStartPredicate||{};s._startPredicateData=r={distance:Math.max(o.distance,0)||0,delay:Math.max(o.delay,0)||0}}return r.delay&&(r.event=e,r.delayTimer||(r.delayTimer=window.setTimeout(function(){r.delay=0,s._resolveStartPredicate(r.event)&&(s._forceResolveStartPredicate(r.event),s._resetStartPredicate())},r.delay))),s._resolveStartPredicate(e)};D.defaultSortPredicate=function(){var t={},e={},i={},s=[],r=1,o=100;function n(a,h,l){var d=null,v=h._settings.dragSort,S=-1,y,E,_,u,g,c,m,p,T,L;if(v===!0?(s[0]=h,E=s):A(v)&&(E=v.call(h,a)),!E||!Array.isArray(E)||!E.length)return d;for(L=0;L<E.length;L++)if(_=E[L],!_._isDestroyed){for(_._updateBoundingRect(),c=Math.max(0,_._left),m=Math.max(0,_._top),p=Math.min(window.innerWidth,_._right),T=Math.min(window.innerHeight,_._bottom),u=_._element.parentNode;u&&u!==document&&u!==document.documentElement&&u!==document.body;){if(u.getRootNode&&u instanceof DocumentFragment){u=u.getRootNode().host;continue}if(B(u,"overflow")!=="visible"&&(g=u.getBoundingClientRect(),c=Math.max(c,g.left),m=Math.max(m,g.top),p=Math.min(p,g.right),T=Math.min(T,g.bottom)),B(u,"position")==="fixed")break;u=u.parentNode}c>=p||m>=T||(e.left=c,e.top=m,e.width=p-c,e.height=T-m,y=Vt(t,e),y>l&&y>S&&(S=y,d=_))}return s.length=0,d}return function(a,h){var l=a._drag,d=l._getGrid(),v=h&&typeof h.threshold=="number"?h.threshold:50,S=h&&h.action===j?j:dt,y=h&&h.migrateAction===j?j:dt;v=Math.min(Math.max(v,r),o),t.width=a._width,t.height=a._height,t.left=l._clientX,t.top=l._clientY;var E=n(a,d,v);if(!E)return null;var _=a.getGrid()!==E,u=0,g=0,c=0,m=-1,p=!1,T,L,k;for(E===d?(t.left=l._gridX+a._marginLeft,t.top=l._gridY+a._marginTop):(E._updateBorders(1,0,1,0),u=E._left+E._borderLeft,g=E._top+E._borderTop),k=0;k<E._items.length;k++)T=E._items[k],!(!T._isActive||T===a)&&(p=!0,e.width=T._width,e.height=T._height,e.left=T._left+T._marginLeft+u,e.top=T._top+T._marginTop+g,L=Vt(t,e),L>c&&(m=k,c=L));return _&&c<v&&(m=p?m:0,c=v),c>=v?(i.grid=E,i.index=m,i.action=_?y:S,i):null}}();D.prototype.stop=function(){if(this._isActive){if(this._isMigrating){this._finishMigration();return}var t=this._item,e=t._id;if(D.autoScroller.removeItem(t),gi(e),mi(e),yi(e),this._cancelSort(),this._isStarted){this._unbindScrollListeners();var i=t._element,s=this._getGrid(),r=s._settings.itemDraggingClass;i.parentNode!==s._element&&(s._element.appendChild(i),t._setTranslate(this._gridX,this._gridY),r&&i.clientWidth),X(i,r)}this._reset()}};D.prototype.sort=function(t){var e=this._item;this._isActive&&e._isActive&&this._dragMoveEvent&&(t===!0?this._handleSort():Jt(e._id,this._handleSort))};D.prototype.destroy=function(){this._isDestroyed||(this.stop(),this._dragger.destroy(),D.autoScroller.removeItem(this._item),this._isDestroyed=!0)};D.prototype._getGrid=function(){return Ut[this._gridId]||null};D.prototype._reset=function(){this._isActive=!1,this._isStarted=!1,this._container=null,this._containingBlock=null,this._dragStartEvent=null,this._dragMoveEvent=null,this._dragPrevMoveEvent=null,this._scrollEvent=null,this._scrollers=[],this._left=0,this._top=0,this._gridX=0,this._gridY=0,this._clientX=0,this._clientY=0,this._scrollDiffX=0,this._scrollDiffY=0,this._moveDiffX=0,this._moveDiffY=0,this._containerDiffX=0,this._containerDiffY=0};D.prototype._bindScrollListeners=function(){var t=this._getGrid()._element,e=this._container,i=this._scrollers,s,r;if(i.length=0,Me(this._item._element.parentNode,i),e!==t)for(s=[],Me(t,s),r=0;r<s.length;r++)i.indexOf(s[r])<0&&i.push(s[r]);for(r=0;r<i.length;r++)i[r].addEventListener("scroll",this._onScroll,Ci)};D.prototype._unbindScrollListeners=function(){var t=this._scrollers,e;for(e=0;e<t.length;e++)t[e].removeEventListener("scroll",this._onScroll,Ci);t.length=0};D.prototype._resolveStartPredicate=function(t){var e=this._startPredicateData;if(!(t.distance<e.distance||e.delay))return this._resetStartPredicate(),!0};D.prototype._forceResolveStartPredicate=function(t){!this._isDestroyed&&this._startPredicateState===ue&&(this._startPredicateState=Ft,this._onStart(t))};D.prototype._finishStartPredicate=function(t){var e=this._item._element,i=Math.abs(t.deltaX)<2&&Math.abs(t.deltaY)<2&&t.deltaTime<200;this._resetStartPredicate(),i&&Gs(e)};D.prototype._resetHeuristics=function(t,e){this._blockedSortIndex=null,this._sortX1=this._sortX2=t,this._sortY1=this._sortY2=e};D.prototype._checkHeuristics=function(t,e){var i=this._getGrid()._settings.dragSortHeuristics,s=i.minDragDistance;if(s<=0)return this._blockedSortIndex=null,!0;var r=t-this._sortX2,o=e-this._sortY2,n=s>3&&i.minBounceBackAngle>0;if(n||(this._blockedSortIndex=null),Math.abs(r)>s||Math.abs(o)>s){if(n){var a=Math.atan2(r,o),h=Math.atan2(this._sortX2-this._sortX1,this._sortY2-this._sortY1),l=Math.atan2(Math.sin(a-h),Math.cos(a-h));Math.abs(l)>i.minBounceBackAngle&&(this._blockedSortIndex=null)}return this._sortX1=this._sortX2,this._sortY1=this._sortY2,this._sortX2=t,this._sortY2=e,!0}return!1};D.prototype._resetStartPredicate=function(){var t=this._startPredicateData;t&&(t.delayTimer&&(t.delayTimer=window.clearTimeout(t.delayTimer)),this._startPredicateData=null)};D.prototype._handleSort=function(){if(this._isActive){var t=this._getGrid()._settings;if(!t.dragSort||!t.dragAutoScroll.sortDuringScroll&&D.autoScroller.isItemScrolling(this._item)){this._sortX1=this._sortX2=this._gridX,this._sortY1=this._sortY2=this._gridY,this._isSortNeeded=!0,this._sortTimer!==void 0&&(this._sortTimer=window.clearTimeout(this._sortTimer));return}var e=this._checkHeuristics(this._gridX,this._gridY);if(!(!this._isSortNeeded&&!e)){var i=t.dragSortHeuristics.sortInterval;i<=0||this._isSortNeeded?(this._isSortNeeded=!1,this._sortTimer!==void 0&&(this._sortTimer=window.clearTimeout(this._sortTimer)),this._checkOverlap()):this._sortTimer===void 0&&(this._sortTimer=window.setTimeout(this._handleSortDelayed,i))}}};D.prototype._handleSortDelayed=function(){this._isSortNeeded=!0,this._sortTimer=void 0,Jt(this._item._id,this._handleSort)};D.prototype._cancelSort=function(){this._isSortNeeded=!1,this._sortTimer!==void 0&&(this._sortTimer=window.clearTimeout(this._sortTimer)),_s(this._item._id)};D.prototype._finishSort=function(){var t=this._getGrid()._settings.dragSort,e=t&&(this._isSortNeeded||this._sortTimer!==void 0);this._cancelSort(),e&&this._checkOverlap()};D.prototype._checkOverlap=function(){if(this._isActive){var t=this._item,e=this._getGrid()._settings,i,s,r,o,n,a,h,l;A(e.dragSortPredicate)?i=e.dragSortPredicate(t,this._dragMoveEvent):i=D.defaultSortPredicate(t,e.dragSortPredicate),!(!i||typeof i.index!="number")&&(h=i.action===j?j:dt,s=t.getGrid(),o=i.grid||s,l=s!==o,r=s._items.indexOf(t),n=gt(o._items,i.index,l&&h===dt?1:0),!(!l&&n===this._blockedSortIndex)&&(l?(this._blockedSortIndex=null,a=o._items[n],s._hasListeners(ot)&&s._emit(ot,{item:t,fromGrid:s,fromIndex:r,toGrid:o,toIndex:n}),o._hasListeners(qt)&&o._emit(qt,{item:t,fromGrid:s,fromIndex:r,toGrid:o,toIndex:n}),t._gridId=o._id,this._isMigrating=t._gridId!==this._gridId,s._items.splice(r,1),ge(o._items,t,n),t._sortData=null,s._hasListeners(Gt)&&s._emit(Gt,{item:t,fromGrid:s,fromIndex:r,toGrid:o,toIndex:n}),o._hasListeners(Bt)&&o._emit(Bt,{item:t,fromGrid:s,fromIndex:r,toGrid:o,toIndex:n}),h===j&&a&&a.isActive()&&o._items.indexOf(a)>-1&&o.send(a,s,r,{appendTo:this._container||document.body,layoutSender:!1,layoutReceiver:!1}),s.layout(),o.layout()):r!==n&&(this._blockedSortIndex=r,(h===j?Ri:Li)(s._items,r,n),s._hasListeners(Ht)&&s._emit(Ht,{item:t,fromIndex:r,toIndex:n,action:h}),s.layout())))}};D.prototype._finishMigration=function(){var t=this._item,e=t._dragRelease,i=t._element,s=t._isActive,r=t.getGrid(),o=r._element,n=r._settings,a=n.dragContainer||o,h=this._getGrid()._settings,l=i.parentNode,d=s?h.itemVisibleClass:h.itemHiddenClass,v=s?n.itemVisibleClass:n.itemHiddenClass,S,y;this._isMigrating=!1,this.destroy(),h.itemClass!==n.itemClass&&(X(i,h.itemClass),W(i,n.itemClass)),d!==v&&(X(i,d),W(i,v)),a!==l&&(a.appendChild(i),y=mt(l,a,!0),S=K(i),S.x-=y.left,S.y-=y.top),t._refreshDimensions(),y=mt(a,o,!0),e._containerDiffX=y.left,e._containerDiffY=y.top,t._drag=n.dragEnabled?new D(t):null,a!==l&&t._setTranslate(S.x,S.y),t._visibility.setStyles(s?n.visibleStyles:n.hiddenStyles),e.start()};D.prototype._preStartCheck=function(t){this._startPredicateState===zt&&(this._startPredicateState=ue),this._startPredicateState===ue?(this._startPredicateResult=this._startPredicate(this._item,t),this._startPredicateResult===!0?(this._startPredicateState=Ft,this._onStart(t)):this._startPredicateResult===!1&&(this._resetStartPredicate(t),this._dragger._reset(),this._startPredicateState=zt)):this._startPredicateState===Ft&&this._isActive&&this._onMove(t)};D.prototype._preEndCheck=function(t){var e=this._startPredicateState===Ft;this._startPredicate(this._item,t),this._startPredicateState=zt,!(!e||!this._isActive)&&(this._isStarted?this._onEnd(t):this.stop())};D.prototype._onStart=function(t){var e=this._item;e._isActive&&(this._isActive=!0,this._dragStartEvent=t,D.autoScroller.addItem(e),as(e._id,this._prepareStart,this._applyStart))};D.prototype._prepareStart=function(){if(this._isActive){var t=this._item;if(t._isActive){var e=t._element,i=this._getGrid(),s=i._settings,r=i._element,o=s.dragContainer||r,n=_e(o),a=K(e),h=e.getBoundingClientRect(),l=o!==r;if(this._container=o,this._containingBlock=n,this._clientX=h.left,this._clientY=h.top,this._left=this._gridX=a.x,this._top=this._gridY=a.y,this._scrollDiffX=this._scrollDiffY=0,this._moveDiffX=this._moveDiffY=0,this._resetHeuristics(this._gridX,this._gridY),l){var d=mt(n,r);this._containerDiffX=d.left,this._containerDiffY=d.top}}}};D.prototype._applyStart=function(){if(this._isActive){var t=this._item;if(t._isActive){var e=this._getGrid(),i=t._element,s=t._dragRelease,r=t._migrate,o=this._container!==e._element;t.isPositioning()&&t._layout.stop(!0,this._left,this._top),r._isActive&&(this._left-=r._containerDiffX,this._top-=r._containerDiffY,this._gridX-=r._containerDiffX,this._gridY-=r._containerDiffY,r.stop(!0,this._left,this._top)),t.isReleasing()&&s._reset(),e._settings.dragPlaceholder.enabled&&t._dragPlaceholder.create(),this._isStarted=!0,e._emit(Wi,t,this._dragStartEvent),o&&(i.parentNode===this._container?(this._gridX-=this._containerDiffX,this._gridY-=this._containerDiffY):(this._left+=this._containerDiffX,this._top+=this._containerDiffY,this._container.appendChild(i),t._setTranslate(this._left,this._top))),W(i,e._settings.itemDraggingClass),this._bindScrollListeners(),e._emit(Vi,t,this._dragStartEvent)}}};D.prototype._onMove=function(t){var e=this._item;if(!e._isActive){this.stop();return}this._dragMoveEvent=t,hs(e._id,this._prepareMove,this._applyMove),Jt(e._id,this._handleSort)};D.prototype._prepareMove=function(){if(this._isActive){var t=this._item;if(t._isActive){var e=this._getGrid()._settings,i=e.dragAxis,s=this._dragMoveEvent,r=this._dragPrevMoveEvent||this._dragStartEvent||s;if(i!=="y"){var o=s.clientX-r.clientX;this._left=this._left-this._moveDiffX+o,this._gridX=this._gridX-this._moveDiffX+o,this._clientX=this._clientX-this._moveDiffX+o,this._moveDiffX=o}if(i!=="x"){var n=s.clientY-r.clientY;this._top=this._top-this._moveDiffY+n,this._gridY=this._gridY-this._moveDiffY+n,this._clientY=this._clientY-this._moveDiffY+n,this._moveDiffY=n}this._dragPrevMoveEvent=s}}};D.prototype._applyMove=function(){if(this._isActive){var t=this._item;t._isActive&&(this._moveDiffX=this._moveDiffY=0,t._setTranslate(this._left,this._top),this._getGrid()._emit(zi,t,this._dragMoveEvent),D.autoScroller.updateItem(t))}};D.prototype._onScroll=function(t){var e=this._item;if(!e._isActive){this.stop();return}this._scrollEvent=t,ls(e._id,this._prepareScroll,this._applyScroll),Jt(e._id,this._handleSort)};D.prototype._prepareScroll=function(){if(this._isActive){var t=this._item;if(t._isActive){var e=t._element,i=this._getGrid(),s=i._element,r=e.getBoundingClientRect();if(this._container!==s){var o=mt(this._containingBlock,s);this._containerDiffX=o.left,this._containerDiffY=o.top}var n=this._clientX-this._moveDiffX-r.left;this._left=this._left-this._scrollDiffX+n,this._scrollDiffX=n;var a=this._clientY-this._moveDiffY-r.top;this._top=this._top-this._scrollDiffY+a,this._scrollDiffY=a,this._gridX=this._left-this._containerDiffX,this._gridY=this._top-this._containerDiffY}}};D.prototype._applyScroll=function(){if(this._isActive){var t=this._item;t._isActive&&(this._scrollDiffX=this._scrollDiffY=0,t._setTranslate(this._left,this._top),this._getGrid()._emit(Fi,t,this._scrollEvent))}};D.prototype._onEnd=function(t){var e=this._item,i=e._element,s=this._getGrid(),r=s._settings,o=e._dragRelease;if(!e._isActive){this.stop();return}gi(e._id),mi(e._id),yi(e._id),this._finishSort(),this._unbindScrollListeners(),o._containerDiffX=this._containerDiffX,o._containerDiffY=this._containerDiffY,this._reset(),X(i,r.itemDraggingClass),D.autoScroller.removeItem(e),s._emit(ji,e,t),this._isMigrating?this._finishMigration():o.start()};function Gs(t){if(t.tagName.toLowerCase()==="a"){var e=t.getAttribute("href");if(e){var i=t.getAttribute("target");i&&i!=="_self"?window.open(e,i):window.location.href=e}}}function Pi(t,e){var i={},s,r;if(Array.isArray(e))for(r=0;r<e.length;r++)s=e[r],i[s]=B(t,le(s));else for(s in e)i[s]=B(t,le(s));return i}var Bs=/^(webkit|moz|ms|o|Webkit|Moz|MS|O)(?=[A-Z])/,Ye={};function qs(t){var e=Ye[t];return e||(e=t.replace(Bs,""),e!==t&&(e=e[0].toLowerCase()+e.slice(1)),Ye[t]=e,e)}var Ws="[native code]";function Vs(t){var e=window.Symbol;return!!(t&&A(e)&&A(e.toString)&&e(t).toString().indexOf(Ws)>-1)}function yt(t,e){for(var i in e)t.style[i]=e[i]}var zs=!!(Element&&A(Element.prototype.animate)),Oe=!!(Element&&Vs(Element.prototype.animate));function $(t){this._element=t,this._animation=null,this._duration=0,this._easing="",this._callback=null,this._props=[],this._values=[],this._isDestroyed=!1,this._onFinish=this._onFinish.bind(this)}$.prototype.start=function(t,e,i){if(!this._isDestroyed){var s=this._element,r=i||{};if(!zs){yt(s,e),this._callback=A(r.onFinish)?r.onFinish:null,this._onFinish();return}var o=this._animation,n=this._props,a=this._values,h=r.duration||300,l=r.easing||"ease",d=!1,v,S,y;if(o&&(S=0,(h!==this._duration||l!==this._easing)&&(d=!0),!d)){for(v in e)if(++S,y=n.indexOf(v),y===-1||e[v]!==a[y]){d=!0;break}S!==n.length&&(d=!0)}if(d&&o.cancel(),this._callback=A(r.onFinish)?r.onFinish:null,!(o&&!d)){n.length=a.length=0;for(v in e)n.push(v),a.push(e[v]);this._duration=h,this._easing=l,this._animation=s.animate([Xe(t,Oe),Xe(e,Oe)],{duration:h,easing:l}),this._animation.onfinish=this._onFinish,yt(s,e)}}};$.prototype.stop=function(){this._isDestroyed||!this._animation||(this._animation.cancel(),this._animation=this._callback=null,this._props.length=this._values.length=0)};$.prototype.getCurrentStyles=function(){return Pi(element,currentProps)};$.prototype.isAnimating=function(){return!!this._animation};$.prototype.destroy=function(){this._isDestroyed||(this.stop(),this._element=null,this._isDestroyed=!0)};$.prototype._onFinish=function(){var t=this._callback;this._animation=this._callback=null,this._props.length=this._values.length=0,t&&t()};function Xe(t,e){var i={};for(var s in t)i[e?s:qs(s)]=t[s];return i}function rt(t,e){return"translateX("+t+"px) translateY("+e+"px)"}function G(t){this._item=t,this._animation=new $,this._element=null,this._className="",this._didMigrate=!1,this._resetAfterLayout=!1,this._left=0,this._top=0,this._transX=0,this._transY=0,this._nextTransX=0,this._nextTransY=0,this._setupAnimation=this._setupAnimation.bind(this),this._startAnimation=this._startAnimation.bind(this),this._updateDimensions=this._updateDimensions.bind(this),this._onLayoutStart=this._onLayoutStart.bind(this),this._onLayoutEnd=this._onLayoutEnd.bind(this),this._onReleaseEnd=this._onReleaseEnd.bind(this),this._onMigrate=this._onMigrate.bind(this),this._onHide=this._onHide.bind(this)}G.prototype._updateDimensions=function(){this.isActive()&&yt(this._element,{width:this._item._width+"px",height:this._item._height+"px"})};G.prototype._onLayoutStart=function(t,e){var i=this._item;if(t.indexOf(i)===-1){this.reset();return}var s=i._left,r=i._top,o=this._left,n=this._top;if(this._left=s,this._top=r,!(!e&&!this._didMigrate&&o===s&&n===r)){var a=s+i._marginLeft,h=r+i._marginTop,l=i.getGrid(),d=!e&&l._settings.layoutDuration>0;if(!d||this._didMigrate){Si(i._id),this._element.style[U]=rt(a,h),this._animation.stop(),this._didMigrate&&(l.getElement().appendChild(this._element),this._didMigrate=!1);return}this._nextTransX=a,this._nextTransY=h,us(i._id,this._setupAnimation,this._startAnimation)}};G.prototype._setupAnimation=function(){if(this.isActive()){var t=K(this._element);this._transX=t.x,this._transY=t.y}};G.prototype._startAnimation=function(){if(this.isActive()){var t=this._animation,e=this._transX,i=this._transY,s=this._nextTransX,r=this._nextTransY;if(e===s&&i===r){t.isAnimating()&&(this._element.style[U]=rt(s,r),t.stop());return}var o=this._item.getGrid()._settings,n={},a={};n[U]=rt(e,i),a[U]=rt(s,r),t.start(n,a,{duration:o.layoutDuration,easing:o.layoutEasing,onFinish:this._onLayoutEnd})}};G.prototype._onLayoutEnd=function(){this._resetAfterLayout&&this.reset()};G.prototype._onReleaseEnd=function(t){if(t._id===this._item._id){if(!this._animation.isAnimating()){this.reset();return}this._resetAfterLayout=!0}};G.prototype._onMigrate=function(t){if(t.item===this._item){var e=this._item.getGrid(),i=t.toGrid;e.off(Tt,this._onReleaseEnd),e.off(nt,this._onLayoutStart),e.off(ot,this._onMigrate),e.off(wt,this._onHide),i.on(Tt,this._onReleaseEnd),i.on(nt,this._onLayoutStart),i.on(ot,this._onMigrate),i.on(wt,this._onHide),this._didMigrate=!0}};G.prototype._onHide=function(t){t.indexOf(this._item)>-1&&this.reset()};G.prototype.create=function(){if(this.isActive()){this._resetAfterLayout=!1;return}var t=this._item,e=t.getGrid(),i=e._settings,s=this._animation;this._left=t._left,this._top=t._top;var r;A(i.dragPlaceholder.createElement)?r=i.dragPlaceholder.createElement(t):r=document.createElement("div"),this._element=r,s._element=r,this._className=i.itemPlaceholderClass||"",this._className&&W(r,this._className),yt(r,{position:"absolute",left:"0px",top:"0px",width:t._width+"px",height:t._height+"px"}),r.style[U]=rt(t._left+t._marginLeft,t._top+t._marginTop),e.on(nt,this._onLayoutStart),e.on(Tt,this._onReleaseEnd),e.on(ot,this._onMigrate),e.on(wt,this._onHide),A(i.dragPlaceholder.onCreate)&&i.dragPlaceholder.onCreate(t,r),e.getElement().appendChild(r)};G.prototype.reset=function(){if(this.isActive()){var t=this._element,e=this._item,i=e.getGrid(),s=i._settings,r=this._animation;this._resetAfterLayout=!1,Si(e._id),fs(e._id),r.stop(),r._element=null,i.off(Tt,this._onReleaseEnd),i.off(nt,this._onLayoutStart),i.off(ot,this._onMigrate),i.off(wt,this._onHide),this._className&&(X(t,this._className),this._className=""),t.parentNode.removeChild(t),this._element=null,A(s.dragPlaceholder.onRemove)&&s.dragPlaceholder.onRemove(e,t)}};G.prototype.isActive=function(){return!!this._element};G.prototype.getElement=function(){return this._element};G.prototype.updateDimensions=function(){this.isActive()&&ds(this._item._id,this._updateDimensions)};G.prototype.destroy=function(){this.reset(),this._animation.destroy(),this._item=this._animation=null};function lt(t){this._item=t,this._isActive=!1,this._isDestroyed=!1,this._isPositioningStarted=!1,this._containerDiffX=0,this._containerDiffY=0}lt.prototype.start=function(){if(!(this._isDestroyed||this._isActive)){var t=this._item,e=t.getGrid(),i=e._settings;this._isActive=!0,W(t._element,i.itemReleasingClass),i.dragRelease.useDragContainer||this._placeToGrid(),e._emit(Ui,t),e._nextLayoutData||t._layout.start(!1)}};lt.prototype.stop=function(t,e,i){if(!(this._isDestroyed||!this._isActive)){var s=this._item,r=s.getGrid();!t&&(e===void 0||i===void 0)&&(e=s._left,i=s._top);var o=this._placeToGrid(e,i);this._reset(o),t||r._emit(Tt,s)}};lt.prototype.isJustReleased=function(){return this._isActive&&this._isPositioningStarted===!1};lt.prototype.destroy=function(){this._isDestroyed||(this.stop(!0),this._item=null,this._isDestroyed=!0)};lt.prototype._placeToGrid=function(t,e){if(!this._isDestroyed){var i=this._item,s=i._element,r=i.getGrid()._element,o=!1;if(s.parentNode!==r){if(t===void 0||e===void 0){var n=K(s);t=n.x-this._containerDiffX,e=n.y-this._containerDiffY}r.appendChild(s),i._setTranslate(t,e),o=!0}return this._containerDiffX=0,this._containerDiffY=0,o}};lt.prototype._reset=function(t){if(!this._isDestroyed){var e=this._item,i=e.getGrid()._settings.itemReleasingClass;this._isActive=!1,this._isPositioningStarted=!1,this._containerDiffX=0,this._containerDiffY=0,i&&(t&&e._element.clientWidth,X(e._element,i))}};var Ne=2;function tt(t){var e=t._element,i=e.style;this._item=t,this._isActive=!1,this._isDestroyed=!1,this._isInterrupted=!1,this._currentStyles={},this._targetStyles={},this._nextLeft=0,this._nextTop=0,this._offsetLeft=0,this._offsetTop=0,this._skipNextAnimation=!1,this._animOptions={onFinish:this._finish.bind(this),duration:0,easing:0},i.left="0px",i.top="0px",t._setTranslate(0,0),this._animation=new $(e),this._queue="layout-"+t._id,this._setupAnimation=this._setupAnimation.bind(this),this._startAnimation=this._startAnimation.bind(this)}tt.prototype.start=function(t,e){if(!this._isDestroyed){var i=this._item,s=i._dragRelease,r=i.getGrid()._settings,o=this._isActive,n=s.isJustReleased(),a=n?r.dragRelease.duration:r.layoutDuration,h=n?r.dragRelease.easing:r.layoutEasing,l=!t&&!this._skipNextAnimation&&a>0;if(o&&(vi(i._id),i._emitter.burst(this._queue,!0,i)),n&&(s._isPositioningStarted=!0),A(e)&&i._emitter.on(this._queue,e),this._skipNextAnimation=!1,!l){this._updateOffsets(),i._setTranslate(this._nextLeft,this._nextTop),this._animation.stop(),this._finish();return}this._animation.isAnimating()&&(this._animation._animation.onfinish=null),this._isActive=!0,this._animOptions.easing=h,this._animOptions.duration=a,this._isInterrupted=o,ns(i._id,this._setupAnimation,this._startAnimation)}};tt.prototype.stop=function(t,e,i){if(!(this._isDestroyed||!this._isActive)){var s=this._item;if(vi(s._id),this._animation.isAnimating()){if(e===void 0||i===void 0){var r=K(s._element);e=r.x,i=r.y}s._setTranslate(e,i),this._animation.stop()}X(s._element,s.getGrid()._settings.itemPositioningClass),this._isActive=!1,t&&s._emitter.burst(this._queue,!0,s)}};tt.prototype.destroy=function(){if(!this._isDestroyed){var t=this._item._element.style;this.stop(!0,0,0),this._item._emitter.clear(this._queue),this._animation.destroy(),t[U]="",t.left="",t.top="",this._item=null,this._currentStyles=null,this._targetStyles=null,this._animOptions=null,this._isDestroyed=!0}};tt.prototype._updateOffsets=function(){if(!this._isDestroyed){var t=this._item,e=t._migrate,i=t._dragRelease;this._offsetLeft=i._isActive?i._containerDiffX:e._isActive?e._containerDiffX:0,this._offsetTop=i._isActive?i._containerDiffY:e._isActive?e._containerDiffY:0,this._nextLeft=this._item._left+this._offsetLeft,this._nextTop=this._item._top+this._offsetTop}};tt.prototype._finish=function(){if(!this._isDestroyed){var t=this._item,e=t._migrate,i=t._dragRelease;t._tX=this._nextLeft,t._tY=this._nextTop,this._isActive&&(this._isActive=!1,X(t._element,t.getGrid()._settings.itemPositioningClass)),i._isActive&&i.stop(),e._isActive&&e.stop(),t._emitter.burst(this._queue,!1,t)}};tt.prototype._setupAnimation=function(){var t=this._item;if(t._tX===void 0||t._tY===void 0){var e=K(t._element);t._tX=e.x,t._tY=e.y}};tt.prototype._startAnimation=function(){var t=this._item,e=t.getGrid()._settings,i=this._animOptions.duration<=0;this._updateOffsets();var s=Math.abs(t._left-(t._tX-this._offsetLeft)),r=Math.abs(t._top-(t._tY-this._offsetTop));if(i||s<Ne&&r<Ne){(s||r||this._isInterrupted)&&t._setTranslate(this._nextLeft,this._nextTop),this._animation.stop(),this._finish();return}this._isInterrupted||W(t._element,e.itemPositioningClass),this._currentStyles[U]=rt(t._tX,t._tY),this._targetStyles[U]=rt(this._nextLeft,this._nextTop),t._tX=t._tY=void 0,this._animation.start(this._currentStyles,this._targetStyles,this._animOptions)};function Pt(t){this._item=t,this._isActive=!1,this._isDestroyed=!1,this._container=!1,this._containerDiffX=0,this._containerDiffY=0}Pt.prototype.start=function(t,e,i){if(!this._isDestroyed){var s=this._item,r=s._element,o=s.isActive(),n=s.isVisible(),a=s.getGrid(),h=a._settings,l=t._settings,d=t._element,v=t._items,S=a._items.indexOf(s),y=i||document.body,E,_,u,g,c,m,p,T,L,k;if(typeof e=="number")E=gt(v,e,1);else{if(_=t.getItem(e),!_)return;E=v.indexOf(_)}(s.isPositioning()||this._isActive||s.isReleasing())&&(m=K(r),p=m.x,T=m.y),s.isPositioning()&&s._layout.stop(!0,p,T),this._isActive&&(p-=this._containerDiffX,T-=this._containerDiffY,this.stop(!0,p,T)),s.isReleasing()&&(p-=s._dragRelease._containerDiffX,T-=s._dragRelease._containerDiffY,s._dragRelease.stop(!0,p,T)),s._visibility.stop(!0),s._drag&&s._drag.destroy(),a._hasListeners(ot)&&a._emit(ot,{item:s,fromGrid:a,fromIndex:S,toGrid:t,toIndex:E}),t._hasListeners(qt)&&t._emit(qt,{item:s,fromGrid:a,fromIndex:S,toGrid:t,toIndex:E}),h.itemClass!==l.itemClass&&(X(r,h.itemClass),W(r,l.itemClass)),L=n?h.itemVisibleClass:h.itemHiddenClass,k=n?l.itemVisibleClass:l.itemHiddenClass,L!==k&&(X(r,L),W(r,k)),a._items.splice(S,1),ge(v,s,E),s._gridId=t._id,o?(u=r.parentNode,y!==u&&(y.appendChild(r),g=mt(y,u,!0),m||(m=K(r),p=m.x,T=m.y),s._setTranslate(p+g.left,T+g.top))):d.appendChild(r),s._visibility.setStyles(n?l.visibleStyles:l.hiddenStyles),o&&(c=mt(y,d,!0)),s._refreshDimensions(),s._sortData=null,s._drag=l.dragEnabled?new D(s):null,o?(this._isActive=!0,this._container=y,this._containerDiffX=c.left,this._containerDiffY=c.top):(this._isActive=!1,this._container=null,this._containerDiffX=0,this._containerDiffY=0),a._hasListeners(Gt)&&a._emit(Gt,{item:s,fromGrid:a,fromIndex:S,toGrid:t,toIndex:E}),t._hasListeners(Bt)&&t._emit(Bt,{item:s,fromGrid:a,fromIndex:S,toGrid:t,toIndex:E})}};Pt.prototype.stop=function(t,e,i){if(!(this._isDestroyed||!this._isActive)){var s=this._item,r=s._element,o=s.getGrid(),n=o._element,a;this._container!==n&&((e===void 0||i===void 0)&&(t?(a=K(r),e=a.x-this._containerDiffX,i=a.y-this._containerDiffY):(e=s._left,i=s._top)),n.appendChild(r),s._setTranslate(e,i)),this._isActive=!1,this._container=null,this._containerDiffX=0,this._containerDiffY=0}};Pt.prototype.destroy=function(){this._isDestroyed||(this.stop(!0),this._item=null,this._isDestroyed=!0)};function F(t){var e=t._isActive,i=t._element,s=i.children[0],r=t.getGrid()._settings;if(!s)throw new Error("No valid child element found within item element.");this._item=t,this._isDestroyed=!1,this._isHidden=!e,this._isHiding=!1,this._isShowing=!1,this._childElement=s,this._currentStyleProps=[],this._animation=new $(s),this._queue="visibility-"+t._id,this._finishShow=this._finishShow.bind(this),this._finishHide=this._finishHide.bind(this),i.style.display=e?"":"none",W(i,e?r.itemVisibleClass:r.itemHiddenClass),this.setStyles(e?r.visibleStyles:r.hiddenStyles)}F.prototype.show=function(t,e){if(!this._isDestroyed){var i=this._item,s=i._element,r=A(e)?e:null,o=i.getGrid(),n=o._settings;if(!this._isShowing&&!this._isHidden){r&&r(!1,i);return}if(this._isShowing&&!t){r&&i._emitter.on(this._queue,r);return}this._isShowing||(i._emitter.burst(this._queue,!0,i),X(s,n.itemHiddenClass),W(s,n.itemVisibleClass),this._isHiding||(s.style.display="")),r&&i._emitter.on(this._queue,r),this._isShowing=!0,this._isHiding=this._isHidden=!1,this._startAnimation(!0,t,this._finishShow)}};F.prototype.hide=function(t,e){if(!this._isDestroyed){var i=this._item,s=i._element,r=A(e)?e:null,o=i.getGrid(),n=o._settings;if(!this._isHiding&&this._isHidden){r&&r(!1,i);return}if(this._isHiding&&!t){r&&i._emitter.on(this._queue,r);return}this._isHiding||(i._emitter.burst(this._queue,!0,i),W(s,n.itemHiddenClass),X(s,n.itemVisibleClass)),r&&i._emitter.on(this._queue,r),this._isHidden=this._isHiding=!0,this._isShowing=!1,this._startAnimation(!1,t,this._finishHide)}};F.prototype.stop=function(t){if(!this._isDestroyed&&!(!this._isHiding&&!this._isShowing)){var e=this._item;pi(e._id),this._animation.stop(),t&&e._emitter.burst(this._queue,!0,e)}};F.prototype.setStyles=function(t){var e=this._childElement,i=this._currentStyleProps;this._removeCurrentStyles();for(var s in t)i.push(s),e.style[s]=t[s]};F.prototype.destroy=function(){if(!this._isDestroyed){var t=this._item,e=t._element,i=t.getGrid(),s=i._settings;this.stop(!0),t._emitter.clear(this._queue),this._animation.destroy(),this._removeCurrentStyles(),X(e,s.itemVisibleClass),X(e,s.itemHiddenClass),e.style.display="",this._isHiding=this._isShowing=!1,this._isDestroyed=this._isHidden=!0}};F.prototype._startAnimation=function(t,e,i){if(!this._isDestroyed){var s=this._item,r=this._animation,o=this._childElement,n=s.getGrid()._settings,a=t?n.visibleStyles:n.hiddenStyles,h=t?n.showDuration:n.hideDuration,l=t?n.showEasing:n.hideEasing,d=e||h<=0,v;if(!a){i&&i();return}if(pi(s._id),d){yt(o,a),r.stop(),i&&i();return}r.isAnimating()&&(r._animation.onfinish=null),os(s._id,function(){v=Pi(o,a)},function(){r.start(v,a,{duration:h,easing:l,onFinish:i})})}};F.prototype._finishShow=function(){this._isHidden||(this._isShowing=!1,this._item._emitter.burst(this._queue,!1,this._item))};F.prototype._finishHide=function(){if(this._isHidden){var t=this._item;this._isHiding=!1,t._layout.stop(!0,0,0),t._element.style.display="none",t._emitter.burst(this._queue,!1,t)}};F.prototype._removeCurrentStyles=function(){for(var t=this._childElement,e=this._currentStyleProps,i=0;i<e.length;i++)t.style[e[i]]="";e.length=0};var Fs=0;function ki(){return++Fs}function I(t,e,i){var s=t._settings;if(ut){if(ut.has(e))throw new Error("You can only create one Muuri Item per element!");ut.set(e,this)}this._id=ki(),this._gridId=t._id,this._element=e,this._isDestroyed=!1,this._left=0,this._top=0,this._width=0,this._height=0,this._marginLeft=0,this._marginRight=0,this._marginTop=0,this._marginBottom=0,this._tX=void 0,this._tY=void 0,this._sortData=null,this._emitter=new z,e.parentNode!==t._element&&t._element.appendChild(e),W(e,s.itemClass),typeof i!="boolean"&&(i=B(e,"display")!=="none"),this._isActive=i,this._visibility=new F(this),this._layout=new tt(this),this._migrate=new Pt(this),this._drag=s.dragEnabled?new D(this):null,this._dragRelease=new lt(this),this._dragPlaceholder=new G(this)}I.prototype.getGrid=function(){return Ut[this._gridId]};I.prototype.getElement=function(){return this._element};I.prototype.getWidth=function(){return this._width};I.prototype.getHeight=function(){return this._height};I.prototype.getMargin=function(){return{left:this._marginLeft,right:this._marginRight,top:this._marginTop,bottom:this._marginBottom}};I.prototype.getPosition=function(){return{left:this._left,top:this._top}};I.prototype.isActive=function(){return this._isActive};I.prototype.isVisible=function(){return!!this._visibility&&!this._visibility._isHidden};I.prototype.isShowing=function(){return!!(this._visibility&&this._visibility._isShowing)};I.prototype.isHiding=function(){return!!(this._visibility&&this._visibility._isHiding)};I.prototype.isPositioning=function(){return!!(this._layout&&this._layout._isActive)};I.prototype.isDragging=function(){return!!(this._drag&&this._drag._isActive)};I.prototype.isReleasing=function(){return!!(this._dragRelease&&this._dragRelease._isActive)};I.prototype.isDestroyed=function(){return this._isDestroyed};I.prototype._refreshDimensions=function(t){if(!this._isDestroyed&&!(t!==!0&&this._visibility._isHidden)){var e=this._element,i=this._dragPlaceholder,s=e.getBoundingClientRect();this._width=s.width,this._height=s.height,this._marginLeft=Math.max(0,V(e,"margin-left")),this._marginRight=Math.max(0,V(e,"margin-right")),this._marginTop=Math.max(0,V(e,"margin-top")),this._marginBottom=Math.max(0,V(e,"margin-bottom")),i&&i.updateDimensions()}};I.prototype._refreshSortData=function(){if(!this._isDestroyed){var t=this._sortData={},e=this.getGrid()._settings.sortData,i;for(i in e)t[i]=e[i](this,this._element)}};I.prototype._addToLayout=function(t,e){this._isActive!==!0&&(this._isActive=!0,this._left=t||0,this._top=e||0)};I.prototype._removeFromLayout=function(){this._isActive!==!1&&(this._isActive=!1,this._left=0,this._top=0)};I.prototype._canSkipLayout=function(t,e){return this._left===t&&this._top===e&&!this._migrate._isActive&&!this._layout._skipNextAnimation&&!this._dragRelease.isJustReleased()};I.prototype._setTranslate=function(t,e){return this._tX===t&&this._tY===e?!1:(this._tX=t,this._tY=e,this._element.style[U]=rt(t,e),!0)};I.prototype._destroy=function(t){if(!this._isDestroyed){var e=this._element,i=this.getGrid(),s=i._settings;this._dragPlaceholder.destroy(),this._dragRelease.destroy(),this._migrate.destroy(),this._layout.destroy(),this._visibility.destroy(),this._drag&&this._drag.destroy(),this._emitter.destroy(),X(e,s.itemClass),t&&e.parentNode.removeChild(e),ut&&ut.delete(e),this._isActive=!1,this._isDestroyed=!0}};function Mi(t){var e=1,i=2,s=4,r=8,o=16,n=.001,a=.5;function h(_){return((_*1e3+.5<<0)/10<<0)/100}function l(){this.currentRects=[],this.nextRects=[],this.rectTarget={},this.rectStore=[],this.slotSizes=[],this.rectId=0,this.slotIndex=-1,this.slotData={left:0,top:0,width:0,height:0},this.sortRectsLeftTop=this.sortRectsLeftTop.bind(this),this.sortRectsTopLeft=this.sortRectsTopLeft.bind(this)}if(l.prototype.computeLayout=function(_,u){var g=_.items,c=_.slots,m=!!(u&e),p=!!(u&i),T=!!(u&s),L=!!(u&r),k=!!(u&o),M=typeof g[0]=="number",R,Z,P,q,it,O;if(!g.length)return _;for(Z=M?2:1,R=0;R<g.length;R+=Z)M?(q=g[R],it=g[R+1]):(P=g[R],q=P._width+P._marginLeft+P._marginRight,it=P._height+P._marginTop+P._marginBottom),k&&(q=h(q),it=h(it)),O=this.computeNextSlot(_,q,it,m,p),p?O.left+O.width>_.width&&(_.width=O.left+O.width):O.top+O.height>_.height&&(_.height=O.top+O.height),c[++this.slotIndex]=O.left,c[++this.slotIndex]=O.top,(T||L)&&this.slotSizes.push(O.width,O.height);if(T)for(R=0;R<c.length;R+=2)c[R]=_.width-(c[R]+this.slotSizes[R]);if(L)for(R=1;R<c.length;R+=2)c[R]=_.height-(c[R]+this.slotSizes[R]);return this.slotSizes.length=0,this.currentRects.length=0,this.nextRects.length=0,this.rectStore.length=0,this.rectId=0,this.slotIndex=-1,_},l.prototype.computeNextSlot=function(_,u,g,c,m){var p=this.slotData,T=this.currentRects,L=this.nextRects,k=!1,M,R,Z,P,q;for(L.length=0,p.left=null,p.top=null,p.width=u,p.height=g,P=0;P<T.length;P++)if(R=T[P],!!R&&(M=this.getRect(R),p.width<=M.width+n&&p.height<=M.height+n)){p.left=M.left,p.top=M.top;break}if(p.left===null&&(m?(p.left=_.width,p.top=0):(p.left=0,p.top=_.height),c||(k=!0)),!m&&p.top+p.height>_.height+n&&(p.left>a&&L.push(this.addRect(0,_.height,p.left,1/0)),p.left+p.width<_.width-a&&L.push(this.addRect(p.left+p.width,_.height,_.width-p.left-p.width,1/0)),_.height=p.top+p.height),m&&p.left+p.width>_.width+n&&(p.top>a&&L.push(this.addRect(_.width,0,1/0,p.top)),p.top+p.height<_.height-a&&L.push(this.addRect(_.width,p.top+p.height,1/0,_.height-p.top-p.height)),_.width=p.left+p.width),!k){for(c&&(P=0);P<T.length;P++)if(R=T[P],!!R)for(M=this.getRect(R),Z=this.splitRect(M,p),q=0;q<Z.length;q++)R=Z[q],M=this.getRect(R),(m?M.left+n<_.width-n:M.top+n<_.height-n)&&L.push(R)}return L.length>1&&this.purgeRects(L).sort(m?this.sortRectsLeftTop:this.sortRectsTopLeft),this.currentRects=L,this.nextRects=T,p},l.prototype.addRect=function(_,u,g,c){var m=++this.rectId;return this.rectStore[m]=_||0,this.rectStore[++this.rectId]=u||0,this.rectStore[++this.rectId]=g||0,this.rectStore[++this.rectId]=c||0,m},l.prototype.getRect=function(_,u){return u||(u=this.rectTarget),u.left=this.rectStore[_]||0,u.top=this.rectStore[++_]||0,u.width=this.rectStore[++_]||0,u.height=this.rectStore[++_]||0,u},l.prototype.splitRect=function(){var _=[],u=0,g=0;return function(c,m){return _.length=0,c.left+c.width<=m.left+n||m.left+m.width<=c.left+n||c.top+c.height<=m.top+n||m.top+m.height<=c.top+n?(_.push(this.addRect(c.left,c.top,c.width,c.height)),_):(u=m.left-c.left,u>=a&&_.push(this.addRect(c.left,c.top,u,c.height)),u=c.left+c.width-(m.left+m.width),u>=a&&_.push(this.addRect(m.left+m.width,c.top,u,c.height)),g=m.top-c.top,g>=a&&_.push(this.addRect(c.left,c.top,c.width,g)),g=c.top+c.height-(m.top+m.height),g>=a&&_.push(this.addRect(c.left,m.top+m.height,c.width,g)),_)}}(),l.prototype.isRectAWithinRectB=function(_,u){return _.left+n>=u.left&&_.top+n>=u.top&&_.left+_.width-n<=u.left+u.width&&_.top+_.height-n<=u.top+u.height},l.prototype.purgeRects=function(){var _={},u={};return function(g){for(var c=g.length,m;c--;)if(m=g.length,!!g[c]){for(this.getRect(g[c],_);m--;)if(!(!g[m]||c===m)&&(this.getRect(g[m],u),this.isRectAWithinRectB(_,u))){g[c]=0;break}}return g}}(),l.prototype.sortRectsTopLeft=function(){var _={},u={};return function(g,c){return this.getRect(g,_),this.getRect(c,u),_.top<u.top&&_.top+n<u.top?-1:_.top>u.top&&_.top-n>u.top?1:_.left<u.left&&_.left+n<u.left?-1:_.left>u.left&&_.left-n>u.left?1:0}}(),l.prototype.sortRectsLeftTop=function(){var _={},u={};return function(g,c){return this.getRect(g,_),this.getRect(c,u),_.left<u.left&&_.left+n<u.left?-1:_.left>u.left&&_.left-n<u.left?1:_.top<u.top&&_.top+n<u.top?-1:_.top>u.top&&_.top-n>u.top?1:0}}(),t){var d=1,v=2,S=3,y=4,E=new l;self.onmessage=function(_){var u=new Float32Array(_.data),g=u.subarray(y,u.length),c=new Float32Array(g.length),m=u[S],p={items:g,slots:c,width:u[d],height:u[v]};E.computeLayout(p,m),u[d]=p.width,u[v]=p.height,u.set(p.slots,y),postMessage(u.buffer,[u.buffer])}}return l}var He=Mi(),pt=null,Nt=[];function js(t,e){var i=[];if(t>0){pt||(pt=URL.createObjectURL(new Blob(["("+Mi.toString()+")(true)"],{type:"application/javascript"})));for(var s=0,r;s<t;s++)r=new Worker(pt),e&&(r.onmessage=e),i.push(r),Nt.push(r)}return i}function Us(t){for(var e,i,s=0;s<t.length;s++)e=t[s],e.onmessage=null,e.onerror=null,e.onmessageerror=null,e.terminate(),i=Nt.indexOf(e),i>-1&&Nt.splice(i,1);pt&&!Nt.length&&(URL.revokeObjectURL(pt),pt=null)}function $s(){return!!(window.Worker&&window.URL&&window.Blob)}var Ge=1,jt=2,Be=4,qe=8,We=16,Yi=0,Oi=1,Xi=2,Zs=3,de=4;function et(t,e){if(this._options=0,this._processor=null,this._layoutQueue=[],this._layouts={},this._layoutCallbacks={},this._layoutWorkers={},this._layoutWorkerData={},this._workers=[],this._onWorkerMessage=this._onWorkerMessage.bind(this),this.setOptions(e),t=typeof t=="number"?Math.max(0,t):0,t&&$s())try{this._workers=js(t,this._onWorkerMessage)}catch{this._processor=new He}else this._processor=new He}et.prototype._sendToWorker=function(){if(!(!this._layoutQueue.length||!this._workers.length)){var t=this._layoutQueue.shift(),e=this._workers.pop(),i=this._layoutWorkerData[t];delete this._layoutWorkerData[t],this._layoutWorkers[t]=e,e.postMessage(i.buffer,[i.buffer])}};et.prototype._onWorkerMessage=function(t){var e=new Float32Array(t.data),i=e[Yi],s=this._layouts[i],r=this._layoutCallbacks[i],o=this._layoutWorkers[i];s&&delete this._layouts[i],r&&delete this._layoutCallbacks[i],o&&delete this._layoutWorkers[i],s&&r&&(s.width=e[Oi],s.height=e[Xi],s.slots=e.subarray(de,e.length),this._finalizeLayout(s),r(s)),o&&(this._workers.push(o),this._sendToWorker())};et.prototype._finalizeLayout=function(t){var e=t._grid,i=t._settings&jt,s=e._boxSizing==="border-box";return delete t._grid,delete t._settings,t.styles={},i?t.styles.width=(s?t.width+e._borderLeft+e._borderRight:t.width)+"px":t.styles.height=(s?t.height+e._borderTop+e._borderBottom:t.height)+"px",t};et.prototype.setOptions=function(t){if(t){var e;typeof t.fillGaps=="boolean"?e=t.fillGaps?Ge:0:e=this._options&Ge;var i;typeof t.horizontal=="boolean"?i=t.horizontal?jt:0:i=this._options&jt;var s;typeof t.alignRight=="boolean"?s=t.alignRight?Be:0:s=this._options&Be;var r;typeof t.alignBottom=="boolean"?r=t.alignBottom?qe:0:r=this._options&qe;var o;typeof t.rounding=="boolean"?o=t.rounding?We:0:o=this._options&We,this._options=e|i|s|r|o}};et.prototype.createLayout=function(t,e,i,s,r,o){if(this._layouts[e])throw new Error("A layout with the provided id is currently being processed.");var n=this._options&jt,a={id:e,items:i,slots:null,width:n?0:s,height:n?r:0,_grid:t,_settings:this._options};if(!i.length){a.slots=[],this._finalizeLayout(a),o(a);return}if(this._processor){a.slots=window.Float32Array?new Float32Array(i.length*2):new Array(i.length*2),this._processor.computeLayout(a,a._settings),this._finalizeLayout(a),o(a);return}var h=new Float32Array(de+i.length*2);h[Yi]=e,h[Oi]=a.width,h[Xi]=a.height,h[Zs]=a._settings;var l,d,v;for(l=0,d=de-1,v;l<i.length;l++)v=i[l],h[++d]=v._width+v._marginLeft+v._marginRight,h[++d]=v._height+v._marginTop+v._marginBottom;return this._layoutQueue.push(e),this._layouts[e]=a,this._layoutCallbacks[e]=o,this._layoutWorkerData[e]=h,this._sendToWorker(),this.cancelLayout.bind(this,e)};et.prototype.cancelLayout=function(t){var e=this._layouts[t];if(e&&(delete this._layouts[t],delete this._layoutCallbacks[t],this._layoutWorkerData[t])){delete this._layoutWorkerData[t];var i=this._layoutQueue.indexOf(t);i>-1&&this._layoutQueue.splice(i,1)}};et.prototype.destroy=function(){for(var t in this._layoutWorkers)this._workers.push(this._layoutWorkers[t]);Us(this._workers),this._workers.length=0,this._layoutQueue.length=0,this._layouts={},this._layoutCallbacks={},this._layoutWorkers={},this._layoutWorkerData={}};var Qs=0;function Ks(t,e){var i=++Qs,s=0,r=0,o=!1,n=function(a){o||(r&&(s-=a-r),r=a,s>0?vs(i,n):(s=r=0,t()))};return function(a){if(!o){if(e<=0){a!==!0&&t();return}if(a===!0){o=!0,s=r=0,n=void 0,ps(i);return}s<=0?(s=e,n(0)):s=e}}}var Js="[object HTMLCollection]",tr="[object NodeList]";function me(t){var e=Object.prototype.toString.call(t);return e===Js||e===tr}var er="object",ir="[object Object]",sr=Object.prototype.toString;function Ve(t){return typeof t===er&&sr.call(t)===ir}function rr(){}function nr(t){return me(t)?Array.prototype.slice.call(t):Array.prototype.concat(t)}var Ni="number",ee="string",at="instant",ae=0;function w(t,e){typeof t===ee&&(t=document.querySelector(t));var i=t.getRootNode?t.getRootNode({composed:!0})===document:document.body.contains(t);if(!i||t===document.documentElement)throw new Error("Container element must be an existing DOM element.");var s=or(w.defaultOptions,e);s.visibleStyles=ze(s.visibleStyles),s.hiddenStyles=ze(s.hiddenStyles),A(s.dragSort)||(s.dragSort=!!s.dragSort),this._id=ki(),this._element=t,this._settings=s,this._isDestroyed=!1,this._items=[],this._layout={id:0,items:[],slots:[]},this._isLayoutFinished=!0,this._nextLayoutData=null,this._emitter=new z,this._onLayoutDataReceived=this._onLayoutDataReceived.bind(this),Ut[this._id]=this,W(t,s.containerClass),hr(this,s.layoutOnResize),this.add(ar(t,s.items),{layout:!1}),s.layoutOnInit&&this.layout(!0)}w.Item=I;w.ItemLayout=tt;w.ItemVisibility=F;w.ItemMigrate=Pt;w.ItemDrag=D;w.ItemDragRelease=lt;w.ItemDragPlaceholder=G;w.Emitter=z;w.Animator=$;w.Dragger=f;w.Packer=et;w.AutoScroller=x;w.defaultPacker=new et(2);w.defaultOptions={items:"*",showDuration:300,showEasing:"ease",hideDuration:300,hideEasing:"ease",visibleStyles:{opacity:"1",transform:"scale(1)"},hiddenStyles:{opacity:"0",transform:"scale(0.5)"},layout:{fillGaps:!1,horizontal:!1,alignRight:!1,alignBottom:!1,rounding:!1},layoutOnResize:150,layoutOnInit:!0,layoutDuration:300,layoutEasing:"ease",sortData:null,dragEnabled:!1,dragContainer:null,dragHandle:null,dragStartPredicate:{distance:0,delay:0},dragAxis:"xy",dragSort:!0,dragSortHeuristics:{sortInterval:100,minDragDistance:10,minBounceBackAngle:1},dragSortPredicate:{threshold:50,action:dt,migrateAction:dt},dragRelease:{duration:300,easing:"ease",useDragContainer:!0},dragCssProps:{touchAction:"none",userSelect:"none",userDrag:"none",tapHighlightColor:"rgba(0, 0, 0, 0)",touchCallout:"none",contentZooming:"none"},dragPlaceholder:{enabled:!1,createElement:null,onCreate:null,onRemove:null},dragAutoScroll:{targets:[],handle:null,threshold:50,safeZone:.2,speed:x.smoothSpeed(1e3,2e3,2500),sortDuringScroll:!0,smoothStop:!1,onStart:null,onStop:null},containerClass:"muuri",itemClass:"muuri-item",itemVisibleClass:"muuri-item-shown",itemHiddenClass:"muuri-item-hidden",itemPositioningClass:"muuri-item-positioning",itemDraggingClass:"muuri-item-dragging",itemReleasingClass:"muuri-item-releasing",itemPlaceholderClass:"muuri-item-placeholder"};w.prototype.on=function(t,e){return this._emitter.on(t,e),this};w.prototype.off=function(t,e){return this._emitter.off(t,e),this};w.prototype.getElement=function(){return this._element};w.prototype.getItem=function(t){if(this._isDestroyed||!t&&t!==0)return null;if(typeof t===Ni)return this._items[t>-1?t:this._items.length+t]||null;if(t instanceof I)return t._gridId===this._id?t:null;if(ut){var e=ut.get(t);return e&&e._gridId===this._id?e:null}else for(var i=0;i<this._items.length;i++)if(this._items[i]._element===t)return this._items[i];return null};w.prototype.getItems=function(t){if(this._isDestroyed||t===void 0)return this._items.slice(0);var e=[],i,s;if(Array.isArray(t)||me(t))for(i=0;i<t.length;i++)s=this.getItem(t[i]),s&&e.push(s);else s=this.getItem(t),s&&e.push(s);return e};w.prototype.refreshItems=function(t,e){if(this._isDestroyed)return this;var i=t||this._items,s,r,o,n;if(e===!0)for(n=[],s=0;s<i.length;s++)r=i[s],!r.isVisible()&&!r.isHiding()&&(o=r.getElement().style,o.visibility="hidden",o.display="",n.push(o));for(s=0;s<i.length;s++)i[s]._refreshDimensions(e);if(e===!0){for(s=0;s<n.length;s++)o=n[s],o.visibility="",o.display="none";n.length=0}return this};w.prototype.refreshSortData=function(t){if(this._isDestroyed)return this;for(var e=t||this._items,i=0;i<e.length;i++)e[i]._refreshSortData();return this};w.prototype.synchronize=function(){if(this._isDestroyed)return this;var t=this._items;if(!t.length)return this;for(var e,i,s=0;s<t.length;s++)i=t[s]._element,i.parentNode===this._element&&(e=e||document.createDocumentFragment(),e.appendChild(i));return e?(this._element.appendChild(e),this._emit(Hi),this):this};w.prototype.layout=function(t,e){if(this._isDestroyed)return this;var i=this._nextLayoutData;i&&A(i.cancel)&&i.cancel(),ae=ae%Zi+1;var s=ae;this._nextLayoutData={id:s,instant:t,onFinish:e,cancel:null};for(var r=this._items,o=[],n=0;n<r.length;n++)r[n]._isActive&&o.push(r[n]);this._refreshDimensions();var a=this._width-this._borderLeft-this._borderRight,h=this._height-this._borderTop-this._borderBottom,l=this._settings.layout,d;return A(l)?d=l(this,s,o,a,h,this._onLayoutDataReceived):(w.defaultPacker.setOptions(l),d=w.defaultPacker.createLayout(this,s,o,a,h,this._onLayoutDataReceived)),A(d)&&this._nextLayoutData&&this._nextLayoutData.id===s&&(this._nextLayoutData.cancel=d),this};w.prototype.add=function(t,e){if(this._isDestroyed||!t)return[];var i=nr(t);if(!i.length)return i;var s=e||{},r=s.layout?s.layout:s.layout===void 0,o=this._items,n=!1,a,h,l,d;for(d=0;d<i.length;d++)h=i[d],h.parentNode!==this._element&&(a=a||document.createDocumentFragment(),a.appendChild(h));for(a&&this._element.appendChild(a),d=0;d<i.length;d++)h=i[d],l=i[d]=new I(this,h,s.active),l._isActive&&(n=!0,l._layout._skipNextAnimation=!0);for(d=0;d<i.length;d++)l=i[d],l._refreshDimensions(),l._refreshSortData();return ge(o,i,s.index),this._hasListeners(xe)&&this._emit(xe,i.slice(0)),n&&r&&this.layout(r===at,A(r)?r:void 0),i};w.prototype.remove=function(t,e){if(this._isDestroyed||!t.length)return[];var i=e||{},s=i.layout?i.layout:i.layout===void 0,r=!1,o=this.getItems(),n=[],a=[],h,l,d;for(d=0;d<t.length;d++)l=t[d],!l._isDestroyed&&(h=this._items.indexOf(l),h!==-1&&(l._isActive&&(r=!0),n.push(l),a.push(o.indexOf(l)),l._destroy(i.removeElements),this._items.splice(h,1)));return this._hasListeners(Le)&&this._emit(Le,n.slice(0),a),r&&s&&this.layout(s===at,A(s)?s:void 0),n};w.prototype.show=function(t,e){return!this._isDestroyed&&t.length&&this._setItemsVisibility(t,!0,e),this};w.prototype.hide=function(t,e){return!this._isDestroyed&&t.length&&this._setItemsVisibility(t,!1,e),this};w.prototype.filter=function(t,e){if(this._isDestroyed||!this._items.length)return this;var i=[],s=[],r=typeof t===ee,o=A(t),n=e||{},a=n.instant===!0,h=n.syncWithLayout,l=n.layout?n.layout:n.layout===void 0,d=A(n.onFinish)?n.onFinish:null,v=-1,S=rr,y,E;if(d&&(S=function(){++v&&d(i.slice(0),s.slice(0))}),o||r)for(E=0;E<this._items.length;E++)y=this._items[E],(o?t(y):te(y._element,t))?i.push(y):s.push(y);return i.length?this.show(i,{instant:a,syncWithLayout:h,onFinish:S,layout:!1}):S(),s.length?this.hide(s,{instant:a,syncWithLayout:h,onFinish:S,layout:!1}):S(),(i.length||s.length)&&(this._hasListeners(Re)&&this._emit(Re,i.slice(0),s.slice(0)),l&&this.layout(l===at,A(l)?l:void 0)),this};w.prototype.sort=function(){var t,e,i,s;function r(n,a){for(var h=0,l,d,v,S,y=0;y<t.length;y++)if(l=t[y][0],d=t[y][1],v=(n._sortData?n:n._refreshSortData())._sortData[l],S=(a._sortData?a:a._refreshSortData())._sortData[l],d==="desc"||!d&&e?h=S<v?-1:S>v?1:0:h=v<S?-1:v>S?1:0,h)return h;return h||(s||(s=Fe(i)),h=e?Xt(s,a,n):Xt(s,n,a)),h}function o(n,a){var h=e?-t(n,a):t(n,a);return h||(s||(s=Fe(i)),h=e?Xt(s,a,n):Xt(s,n,a)),h}return function(n,a){if(this._isDestroyed||this._items.length<2)return this;var h=this._items,l=a||{},d=l.layout?l.layout:l.layout===void 0;if(e=!!l.descending,i=h.slice(0),s=null,A(n))t=n,h.sort(o);else if(typeof n===ee)t=n.trim().split(" ").filter(function(v){return v}).map(function(v){return v.split(":")}),h.sort(r);else if(Array.isArray(n))h.length=0,h.push.apply(h,n);else throw t=e=i=s=null,new Error("Invalid comparer argument provided.");return this._hasListeners(Ie)&&this._emit(Ie,h.slice(0),i),d&&this.layout(d===at,A(d)?d:void 0),t=e=i=s=null,this}}();w.prototype.move=function(t,e,i){if(this._isDestroyed||this._items.length<2)return this;var s=this._items,r=i||{},o=r.layout?r.layout:r.layout===void 0,n=r.action===j,a=n?j:dt,h=this.getItem(t),l=this.getItem(e),d,v;return h&&l&&h!==l&&(d=s.indexOf(h),v=s.indexOf(l),n?Ri(s,d,v):Li(s,d,v),this._hasListeners(Ht)&&this._emit(Ht,{item:h,fromIndex:d,toIndex:v,action:a}),o&&this.layout(o===at,A(o)?o:void 0)),this};w.prototype.send=function(t,e,i,s){if(this._isDestroyed||e._isDestroyed||this===e)return this;if(t=this.getItem(t),!t)return this;var r=s||{},o=r.appendTo||document.body,n=r.layoutSender?r.layoutSender:r.layoutSender===void 0,a=r.layoutReceiver?r.layoutReceiver:r.layoutReceiver===void 0;return t._migrate.start(e,i,o),t._migrate._isActive&&t._isActive&&(n&&this.layout(n===at,A(n)?n:void 0),a&&e.layout(a===at,A(a)?a:void 0)),this};w.prototype.destroy=function(t){if(this._isDestroyed)return this;var e=this._element,i=this._items.slice(0),s=this._layout&&this._layout.styles||{},r,o;for(lr(this),r=0;r<i.length;r++)i[r]._destroy(t);this._items.length=0,X(e,this._settings.containerClass);for(o in s)e.style[o]="";return this._emit($i),this._emitter.destroy(),delete Ut[this._id],this._isDestroyed=!0,this};w.prototype._emit=function(){this._isDestroyed||this._emitter.emit.apply(this._emitter,arguments)};w.prototype._hasListeners=function(t){return this._isDestroyed?!1:this._emitter.countListeners(t)>0};w.prototype._updateBoundingRect=function(){var t=this._element,e=t.getBoundingClientRect();this._width=e.width,this._height=e.height,this._left=e.left,this._top=e.top,this._right=e.right,this._bottom=e.bottom};w.prototype._updateBorders=function(t,e,i,s){var r=this._element;t&&(this._borderLeft=V(r,"border-left-width")),e&&(this._borderRight=V(r,"border-right-width")),i&&(this._borderTop=V(r,"border-top-width")),s&&(this._borderBottom=V(r,"border-bottom-width"))};w.prototype._refreshDimensions=function(){this._updateBoundingRect(),this._updateBorders(1,1,1,1),this._boxSizing=B(this._element,"box-sizing")};w.prototype._onLayoutDataReceived=function(){var t=[];return function(e){if(!(this._isDestroyed||!this._nextLayoutData||this._nextLayoutData.id!==e.id)){var i=this,s=this._nextLayoutData.instant,r=this._nextLayoutData.onFinish,o=e.items.length,n=o,a,h,l,d;for(this._nextLayoutData=null,!this._isLayoutFinished&&this._hasListeners(be)&&this._emit(be,this._layout.items.slice(0)),this._layout=e,t.length=0,d=0;d<o;d++){if(a=e.items[d],!a){--n;continue}if(h=e.slots[d*2],l=e.slots[d*2+1],a._canSkipLayout(h,l)){--n;continue}a._left=h,a._top=l,a.isActive()&&!a.isDragging()?t.push(a):--n}if(e.styles&&yt(this._element,e.styles),!(this._hasListeners(nt)&&(this._emit(nt,e.items.slice(0),s===!0),this._layout.id!==e.id))){var v=function(){if(!(--n>0)){var S=i._layout.id!==e.id,y=A(s)?s:r;S||(i._isLayoutFinished=!0),A(y)&&y(e.items.slice(0),S),!S&&i._hasListeners(Ae)&&i._emit(Ae,e.items.slice(0))}};if(!t.length)return v(),this;for(this._isLayoutFinished=!1,d=0;d<t.length&&this._layout.id===e.id;d++)t[d]._layout.start(s===!0,v);return this._layout.id===e.id&&(t.length=0),this}}}}();w.prototype._setItemsVisibility=function(t,e,i){var s=this,r=t.slice(0),o=i||{},n=o.instant===!0,a=o.onFinish,h=o.layout?o.layout:o.layout===void 0,l=r.length,d=e?Gi:wt,v=e?Bi:qi,S=e?"show":"hide",y=!1,E=[],_=[],u,g;if(!l){A(a)&&a(r);return}for(g=0;g<r.length;g++)u=r[g],(e&&!u._isActive||!e&&u._isActive)&&(y=!0),u._layout._skipNextAnimation=!!(e&&!u._isActive),e&&u._visibility._isHidden&&_.push(u),e?u._addToLayout():u._removeFromLayout();_.length&&(this.refreshItems(_,!0),_.length=0);function c(){for(y&&o.syncWithLayout!==!1&&s.off(nt,c),s._hasListeners(d)&&s._emit(d,r.slice(0)),g=0;g<r.length;g++){if(r[g]._gridId!==s._id){--l<1&&(A(a)&&a(E.slice(0)),s._hasListeners(v)&&s._emit(v,E.slice(0)));continue}r[g]._visibility[S](n,function(m,p){m||E.push(p),--l<1&&(A(a)&&a(E.slice(0)),s._hasListeners(v)&&s._emit(v,E.slice(0)))})}}y&&o.syncWithLayout!==!1?this.on(nt,c):c(),y&&h&&this.layout(h===at,A(h)?h:void 0)};function or(t,e){var i=Dt({},t);return e&&(i=Dt(i,e)),e&&e.visibleStyles?i.visibleStyles=e.visibleStyles:t&&t.visibleStyles&&(i.visibleStyles=t.visibleStyles),e&&e.hiddenStyles?i.hiddenStyles=e.hiddenStyles:t&&t.hiddenStyles&&(i.hiddenStyles=t.hiddenStyles),i}function Dt(t,e){var i=Object.keys(e),s=i.length,r,o,n;for(n=0;n<s;n++){if(o=i[n],r=Ve(e[o]),Ve(t[o])&&r){t[o]=Dt(Dt({},t[o]),e[o]);continue}if(r){t[o]=Dt({},e[o]);continue}if(Array.isArray(e[o])){t[o]=e[o].slice(0);continue}t[o]=e[o]}return t}function ar(t,e){if(e==="*")return t.children;if(typeof e===ee){for(var i=[],s=t.children,r=0;r<s.length;r++)te(s[r],e)&&i.push(s[r]);return i}return Array.isArray(e)||me(e)?e:[]}function hr(t,e){typeof e!==Ni&&(e=e===!0?0:-1),e>=0&&(t._resizeHandler=Ks(function(){t.refreshItems().layout()},e),window.addEventListener("resize",t._resizeHandler))}function lr(t){t._resizeHandler&&(t._resizeHandler(!0),window.removeEventListener("resize",t._resizeHandler),t._resizeHandler=null)}function ze(t){var e={},i=document.documentElement.style,s,r;for(s in t)t[s]&&(r=Zt(i,s),r&&(e[r]=t[s]));return e}function Fe(t){for(var e={},i=0;i<t.length;i++)e[t[i]._id]=i;return e}function Xt(t,e,i){var s=t[e._id],r=t[i._id];return s-r}const _r=document.getElementById("table"),ye=[],ur=new Promise((t,e)=>{setTimeout(t,3e3,dr().then(i=>{for(let r=1;r<=400;r++){const o=new Promise((n,a)=>{r%2?setTimeout(n,100,je(r)):setTimeout(n,1e4,je(r))});ye.push(o)}}))});ye.push(ur);Promise.all(ye).then(t=>{t.forEach(()=>{fr(),cr()})});function dr(){return fetch("https://pokeapi.co/api/v2/pokemon/").then(e=>e.json()).then(e=>e)}function je(t){const e=`https://pokeapi.co/api/v2/pokemon/${t}`;return fetch(e).then(i=>i.json()).then(i=>{let s="";for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&(typeof i[r]=="string"||typeof i[r]=="number"||typeof i[r]=="boolean")&&(s+=` data-${r}='${i[r]}' `);_r.innerHTML+=`
            <div class="wrap-poke-card" ${s}>
              <div class="poke-card" data-tilt data-tilt-glare data-tilt-max-glare="0.2">
                <div class="poke-body">
                    <h1>${i.name}</h1>
                    <p>Altura:${i.height}</p>
                    <p>Peso:${i.weight}</p>
                    <p><small>Nº:${i.id}</small></p>
                    <p><small>order api:${i.order}</small></p>
                    
                    <img src="${i.sprites.front_shiny?i.sprites.front_shiny:i.sprites.front_default}" alt="">
                </div>
              </div>
            </div>
              `})}function fr(){setTimeout(()=>{const t=document.querySelectorAll(".poke-card");Q.init(t)},2e3)}function cr(){setTimeout(()=>{window.gridMuuri=new w(".poke-table",{items:".wrap-poke-card",sortData:{order:function(t,e){return parseFloat(e.getAttribute("data-order"))},name:function(t,e){return e.getAttribute("data-name").toUpperCase()},weight:function(t,e){return e.getAttribute("data-weight").toUpperCase()},height:function(t,e){return e.getAttribute("data-height").toUpperCase()},is_default:function(t,e){return e.getAttribute("data-is_default").toUpperCase()},id:function(t,e){return e.getAttribute("data-id").toUpperCase()}}}),window.gridMuuri.sort("name")},2e3)}document.getElementById("showDetailBtn").onclick=()=>{console.log("click"),document.querySelectorAll(".poke-card").forEach(t=>{console.log(t.classList.contains("show-detail")),t.classList.contains("show-detail")?t.classList.remove("show-detail"):t.classList.add("show-detail")})};
